<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1742px" preserveAspectRatio="none" style="width:1878px;height:1742px;background:#FFFFFF;" version="1.1" viewBox="0 0 1878 1742" width="1878px" zoomAndPan="magnify"><title>Data Flow Diagram</title><defs/><g><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="235.9629" x="819.6458" y="37.1182">Data Flow Diagram</text><g><title>Ghostty Input</title><rect fill="#FFFFFF" height="88.3979" style="stroke:#000000;stroke-width:1;" width="10" x="167.8364" y="207.3506"/></g><g><title>FFI Bridge</title><rect fill="#FFFFFF" height="88.3979" style="stroke:#000000;stroke-width:1;" width="10" x="325.6768" y="295.7485"/></g><g><title>tmux Core</title><rect fill="#FFFFFF" height="88.3979" style="stroke:#000000;stroke-width:1;" width="10" x="543.0454" y="384.1465"/></g><g><title>tmux Core</title><rect fill="#FFFFFF" height="73.5986" style="stroke:#000000;stroke-width:1;" width="10" x="543.0454" y="545.1431"/></g><g><title>PTY.Shell</title><rect fill="#FFFFFF" height="72.5986" style="stroke:#000000;stroke-width:1;" width="10" x="743.8999" y="472.5444"/></g><g><title>Screen Writer</title><rect fill="#FFFFFF" height="88.3979" style="stroke:#000000;stroke-width:1;" width="10" x="889.6313" y="618.7417"/></g><g><title>UI Backend</title><rect fill="#FFFFFF" height="88.3979" style="stroke:#000000;stroke-width:1;" width="10" x="1059.5112" y="707.1396"/></g><g><title>UI Backend</title><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1;" width="10" x="1059.5112" y="1178.1294"/></g><g><title>UI Backend</title><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1;" width="10" x="1059.5112" y="1430.5239"/></g><g><title>Callback Router</title><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1;" width="10" x="1220.1489" y="795.5376"/></g><g><title>Callback Router</title><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1;" width="10" x="1220.1489" y="1207.9287"/></g><g><title>Callback Router</title><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1;" width="10" x="1220.1489" y="1460.3232"/></g><g><title>Grid Mapper</title><rect fill="#FFFFFF" height="88.3979" style="stroke:#000000;stroke-width:1;" width="10" x="1362.501" y="825.3369"/></g><g><title>Grid Mapper</title><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1;" width="10" x="1362.501" y="1237.728"/></g><g><title>Terminal Buffer</title><rect fill="#FFFFFF" height="72.5986" style="stroke:#000000;stroke-width:1;" width="10" x="1519.127" y="913.7349"/></g><g><title>GPU Renderer</title><rect fill="#FFFFFF" height="88.3979" style="stroke:#000000;stroke-width:1;" width="10" x="1672.1519" y="986.3335"/></g><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="1526.9658" width="8" x="34" y="131.752"/><line style="stroke:#000000;stroke-width:1;" x1="38" x2="38" y1="131.752" y2="1658.7178"/></g><g><title>Ghostty Input</title><rect fill="#000000" fill-opacity="0.00000" height="1526.9658" width="8" x="168.8364" y="131.752"/><line style="stroke:#000000;stroke-width:1;" x1="172.0381" x2="172.0381" y1="131.752" y2="1658.7178"/></g><g><title>FFI Bridge</title><rect fill="#000000" fill-opacity="0.00000" height="1526.9658" width="8" x="326.6768" y="131.752"/><line style="stroke:#000000;stroke-width:1;" x1="330.624" x2="330.624" y1="131.752" y2="1658.7178"/></g><g><title>tmux Core</title><rect fill="#000000" fill-opacity="0.00000" height="1526.9658" width="8" x="544.0454" y="131.752"/><line style="stroke:#000000;stroke-width:1;" x1="547.1519" x2="547.1519" y1="131.752" y2="1658.7178"/></g><g><title>PTY.Shell</title><rect fill="#000000" fill-opacity="0.00000" height="1526.9658" width="8" x="744.8999" y="131.752"/><line style="stroke:#000000;stroke-width:1;" x1="748.6533" x2="748.6533" y1="131.752" y2="1658.7178"/></g><g><title>Screen Writer</title><rect fill="#000000" fill-opacity="0.00000" height="1526.9658" width="8" x="890.6313" y="131.752"/><line style="stroke:#000000;stroke-width:1;" x1="894.2363" x2="894.2363" y1="131.752" y2="1658.7178"/></g><g><title>UI Backend</title><rect fill="#000000" fill-opacity="0.00000" height="1526.9658" width="8" x="1060.5112" y="131.752"/><line style="stroke:#000000;stroke-width:1;" x1="1064.2271" x2="1064.2271" y1="131.752" y2="1658.7178"/></g><g><title>Callback Router</title><rect fill="#000000" fill-opacity="0.00000" height="1526.9658" width="8" x="1221.1489" y="131.752"/><line style="stroke:#000000;stroke-width:1;" x1="1224.9385" x2="1224.9385" y1="131.752" y2="1658.7178"/></g><g><title>Grid Mapper</title><rect fill="#000000" fill-opacity="0.00000" height="1526.9658" width="8" x="1363.501" y="131.752"/><line style="stroke:#000000;stroke-width:1;" x1="1367.3594" x2="1367.3594" y1="131.752" y2="1658.7178"/></g><g><title>Terminal Buffer</title><rect fill="#000000" fill-opacity="0.00000" height="1526.9658" width="8" x="1520.127" y="131.752"/><line style="stroke:#000000;stroke-width:1;" x1="1523.6035" x2="1523.6035" y1="131.752" y2="1658.7178"/></g><g><title>GPU Renderer</title><rect fill="#000000" fill-opacity="0.00000" height="1526.9658" width="8" x="1673.1519" y="131.752"/><line style="stroke:#000000;stroke-width:1;" x1="1676.7759" x2="1676.7759" y1="131.752" y2="1658.7178"/></g><g><title>Display</title><rect fill="#000000" fill-opacity="0.00000" height="1526.9658" width="8" x="1819.6641" y="131.752"/><line style="stroke:#000000;stroke-width:1;" x1="1823.0737" x2="1823.0737" y1="131.752" y2="1658.7178"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="31.8555" x="19.0723" y="128.8125">User</text><ellipse cx="38" cy="69.7373" fill="#FFFFFF" rx="16" ry="16" style="stroke:#000000;stroke-width:1;"/><path d="M38,89.7373 C42,89.7373 45,89.7373 49,85.7373 C57,85.7373 65,93.7373 65,101.7373 L65,105.7373 C65,109.7373 61,113.7373 57,113.7373 L19,113.7373 C15,113.7373 11,109.7373 11,105.7373 L11,101.7373 C11,93.7373 19,85.7373 27,85.7373 C31,89.7373 34,89.7373 38,89.7373" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="31.8555" x="19.0723" y="1671.793">User</text><ellipse cx="38" cy="1691.7324" fill="#FFFFFF" rx="16" ry="16" style="stroke:#000000;stroke-width:1;"/><path d="M38,1711.7324 C42,1711.7324 45,1711.7324 49,1707.7324 C57,1707.7324 65,1715.7324 65,1723.7324 L65,1727.7324 C65,1731.7324 61,1735.7324 57,1735.7324 L19,1735.7324 C15,1735.7324 11,1731.7324 11,1727.7324 L11,1723.7324 C11,1715.7324 19,1707.7324 27,1707.7324 C31,1711.7324 34,1711.7324 38,1711.7324" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/></g><g class="participant participant-head" data-participant="GInput"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="111.5967" x="117.0381" y="99.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="97.5967" x="124.0381" y="120.8125">Ghostty Input</text></g><g class="participant participant-tail" data-participant="GInput"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="111.5967" x="117.0381" y="1657.7178"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="97.5967" x="124.0381" y="1678.793">Ghostty Input</text></g><g class="participant participant-head" data-participant="FFI"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="86.1055" x="287.624" y="99.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="72.1055" x="294.624" y="120.8125">FFI Bridge</text></g><g class="participant participant-tail" data-participant="FFI"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="86.1055" x="287.624" y="1657.7178"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="72.1055" x="294.624" y="1678.793">FFI Bridge</text></g><g class="participant participant-head" data-participant="TMux"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="87.7871" x="504.1519" y="99.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="73.7871" x="511.1519" y="120.8125">tmux Core</text></g><g class="participant participant-tail" data-participant="TMux"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="87.7871" x="504.1519" y="1657.7178"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="73.7871" x="511.1519" y="1678.793">tmux Core</text></g><g class="participant participant-head" data-participant="PTY"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="80.4932" x="708.6533" y="99.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="66.4932" x="715.6533" y="120.8125">PTY/Shell</text></g><g class="participant participant-tail" data-participant="PTY"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="80.4932" x="708.6533" y="1657.7178"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="66.4932" x="715.6533" y="1678.793">PTY/Shell</text></g><g class="participant participant-head" data-participant="SWrite"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="110.79" x="839.2363" y="99.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="96.79" x="846.2363" y="120.8125">Screen Writer</text></g><g class="participant participant-tail" data-participant="SWrite"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="110.79" x="839.2363" y="1657.7178"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="96.79" x="846.2363" y="1678.793">Screen Writer</text></g><g class="participant participant-head" data-participant="UIBack"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="94.5684" x="1017.2271" y="99.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="80.5684" x="1024.2271" y="120.8125">UI Backend</text></g><g class="participant participant-tail" data-participant="UIBack"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="94.5684" x="1017.2271" y="1657.7178"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="80.5684" x="1024.2271" y="1678.793">UI Backend</text></g><g class="participant participant-head" data-participant="CBack"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="124.4209" x="1162.9385" y="99.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="110.4209" x="1169.9385" y="120.8125">Callback Router</text></g><g class="participant participant-tail" data-participant="CBack"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="124.4209" x="1162.9385" y="1657.7178"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="110.4209" x="1169.9385" y="1678.793">Callback Router</text></g><g class="participant participant-head" data-participant="GMap"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="100.2832" x="1317.3594" y="99.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="86.2832" x="1324.3594" y="120.8125">Grid Mapper</text></g><g class="participant participant-tail" data-participant="GMap"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="100.2832" x="1317.3594" y="1657.7178"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="86.2832" x="1324.3594" y="1678.793">Grid Mapper</text></g><g class="participant participant-head" data-participant="TBuf"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="123.0469" x="1462.6035" y="99.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="109.0469" x="1469.6035" y="120.8125">Terminal Buffer</text></g><g class="participant participant-tail" data-participant="TBuf"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="123.0469" x="1462.6035" y="1657.7178"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="109.0469" x="1469.6035" y="1678.793">Terminal Buffer</text></g><g class="participant participant-head" data-participant="GPU"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="112.752" x="1620.7759" y="99.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="98.752" x="1627.7759" y="120.8125">GPU Renderer</text></g><g class="participant participant-tail" data-participant="GPU"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="112.752" x="1620.7759" y="1657.7178"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="98.752" x="1627.7759" y="1678.793">GPU Renderer</text></g><g class="participant participant-head" data-participant="Display"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="65.1807" x="1791.0737" y="99.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="51.1807" x="1798.0737" y="120.8125">Display</text></g><g class="participant participant-tail" data-participant="Display"><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="65.1807" x="1791.0737" y="1657.7178"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="51.1807" x="1798.0737" y="1678.793">Display</text></g><g><title>Ghostty Input</title><rect fill="#FFFFFF" height="88.3979" style="stroke:#000000;stroke-width:1;" width="10" x="167.8364" y="207.3506"/></g><g><title>FFI Bridge</title><rect fill="#FFFFFF" height="88.3979" style="stroke:#000000;stroke-width:1;" width="10" x="325.6768" y="295.7485"/></g><g><title>tmux Core</title><rect fill="#FFFFFF" height="88.3979" style="stroke:#000000;stroke-width:1;" width="10" x="543.0454" y="384.1465"/></g><g><title>tmux Core</title><rect fill="#FFFFFF" height="73.5986" style="stroke:#000000;stroke-width:1;" width="10" x="543.0454" y="545.1431"/></g><g><title>PTY.Shell</title><rect fill="#FFFFFF" height="72.5986" style="stroke:#000000;stroke-width:1;" width="10" x="743.8999" y="472.5444"/></g><g><title>Screen Writer</title><rect fill="#FFFFFF" height="88.3979" style="stroke:#000000;stroke-width:1;" width="10" x="889.6313" y="618.7417"/></g><g><title>UI Backend</title><rect fill="#FFFFFF" height="88.3979" style="stroke:#000000;stroke-width:1;" width="10" x="1059.5112" y="707.1396"/></g><g><title>UI Backend</title><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1;" width="10" x="1059.5112" y="1178.1294"/></g><g><title>UI Backend</title><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1;" width="10" x="1059.5112" y="1430.5239"/></g><g><title>Callback Router</title><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1;" width="10" x="1220.1489" y="795.5376"/></g><g><title>Callback Router</title><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1;" width="10" x="1220.1489" y="1207.9287"/></g><g><title>Callback Router</title><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1;" width="10" x="1220.1489" y="1460.3232"/></g><g><title>Grid Mapper</title><rect fill="#FFFFFF" height="88.3979" style="stroke:#000000;stroke-width:1;" width="10" x="1362.501" y="825.3369"/></g><g><title>Grid Mapper</title><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1;" width="10" x="1362.501" y="1237.728"/></g><g><title>Terminal Buffer</title><rect fill="#FFFFFF" height="72.5986" style="stroke:#000000;stroke-width:1;" width="10" x="1519.127" y="913.7349"/></g><g><title>GPU Renderer</title><rect fill="#FFFFFF" height="88.3979" style="stroke:#000000;stroke-width:1;" width="10" x="1672.1519" y="986.3335"/></g><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1866.2544" x="5" y="162.6516"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1871.2544" y1="162.6516" y2="162.6516"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1871.2544" y1="165.6516" y2="165.6516"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1;" width="98.0747" x="889.0898" y="151.752"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79.6313" x="895.0898" y="168.8218">Input Flow</text><g class="message" data-participant-1="User" data-participant-2="GInput"><polygon fill="#000000" points="155.8364,203.3506,165.8364,207.3506,155.8364,211.3506,159.8364,207.3506" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="38" x2="161.8364" y1="207.3506" y2="207.3506"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="109.3828" x="48.2268" y="202.6211">Keyboard/Mouse</text></g><g class="message" data-participant-1="GInput" data-participant-2="GInput"><line style="stroke:#000000;stroke-width:1;" x1="177.8364" x2="219.8364" y1="252.9492" y2="252.9492"/><line style="stroke:#000000;stroke-width:1;" x1="219.8364" x2="219.8364" y1="252.9492" y2="265.9492"/><line style="stroke:#000000;stroke-width:1;" x1="178.8364" x2="219.8364" y1="265.9492" y2="265.9492"/><polygon fill="#000000" points="188.8364,261.9492,178.8364,265.9492,188.8364,269.9492,184.8364,265.9492" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="114.3149" x="184.8364" y="232.4204">Process modifiers</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="107.5103" x="188.2388" y="248.2197">and special keys</text></g><g class="message" data-participant-1="GInput" data-participant-2="FFI"><polygon fill="#000000" points="313.6768,291.7485,323.6768,295.7485,313.6768,299.7485,317.6768,295.7485" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="172.8364" x2="319.6768" y1="295.7485" y2="295.7485"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="72.1538" x="213.1797" y="291.019">InputEvent</text></g><g class="message" data-participant-1="FFI" data-participant-2="FFI"><line style="stroke:#000000;stroke-width:1;" x1="335.6768" x2="377.6768" y1="341.3472" y2="341.3472"/><line style="stroke:#000000;stroke-width:1;" x1="377.6768" x2="377.6768" y1="341.3472" y2="354.3472"/><line style="stroke:#000000;stroke-width:1;" x1="336.6768" x2="377.6768" y1="354.3472" y2="354.3472"/><polygon fill="#000000" points="346.6768,350.3472,336.6768,354.3472,346.6768,358.3472,342.6768,354.3472" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="68.8848" x="358.5999" y="320.8184">Convert to</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="100.731" x="342.6768" y="336.6177">tmc_key_event</text></g><g class="message" data-participant-1="FFI" data-participant-2="TMux"><polygon fill="#000000" points="531.0454,380.1465,541.0454,384.1465,531.0454,388.1465,535.0454,384.1465" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="330.6768" x2="537.0454" y1="384.1465" y2="384.1465"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="113.623" x="380.0496" y="379.417">tmc_send_keys()</text></g><g class="message" data-participant-1="TMux" data-participant-2="TMux"><line style="stroke:#000000;stroke-width:1;" x1="553.0454" x2="595.0454" y1="429.7451" y2="429.7451"/><line style="stroke:#000000;stroke-width:1;" x1="595.0454" x2="595.0454" y1="429.7451" y2="442.7451"/><line style="stroke:#000000;stroke-width:1;" x1="554.0454" x2="595.0454" y1="442.7451" y2="442.7451"/><polygon fill="#000000" points="564.0454,438.7451,554.0454,442.7451,564.0454,446.7451,560.0454,442.7451" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="87.8389" x="599.5532" y="409.2163">Input parsing</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="166.8545" x="560.0454" y="425.0156">and command processing</text></g><g class="message" data-participant-1="TMux" data-participant-2="PTY"><polygon fill="#000000" points="731.8999,468.5444,741.8999,472.5444,731.8999,476.5444,735.8999,472.5444" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="548.0454" x2="737.8999" y1="472.5444" y2="472.5444"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="80.8374" x="605.554" y="467.8149">Write to PTY</text></g><g class="message" data-participant-1="PTY" data-participant-2="PTY"><line style="stroke:#000000;stroke-width:1;" x1="753.8999" x2="795.8999" y1="502.3438" y2="502.3438"/><line style="stroke:#000000;stroke-width:1;" x1="795.8999" x2="795.8999" y1="502.3438" y2="515.3438"/><line style="stroke:#000000;stroke-width:1;" x1="754.8999" x2="795.8999" y1="515.3438" y2="515.3438"/><polygon fill="#000000" points="764.8999,511.3438,754.8999,515.3438,764.8999,519.3438,760.8999,515.3438" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="111.7314" x="760.8999" y="497.6143">Process executes</text></g><g class="message" data-participant-1="PTY" data-participant-2="TMux"><polygon fill="#000000" points="564.0454,541.1431,554.0454,545.1431,564.0454,549.1431,560.0454,545.1431" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="558.0454" x2="747.8999" y1="545.1431" y2="545.1431"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="78.438" x="611.7537" y="540.4136">Output data</text></g><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1866.2544" x="5" y="574.0427"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1871.2544" y1="574.0427" y2="574.0427"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1871.2544" y1="577.0427" y2="577.0427"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1;" width="107.9517" x="884.1514" y="563.1431"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.5083" x="890.1514" y="580.2129">Output Flow</text><g class="message" data-participant-1="TMux" data-participant-2="SWrite"><polygon fill="#000000" points="877.6313,614.7417,887.6313,618.7417,877.6313,622.7417,881.6313,618.7417" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="548.0454" x2="883.6313" y1="618.7417" y2="618.7417"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="112.0298" x="662.8235" y="614.0122">screen_write_*()</text></g><g class="message" data-participant-1="SWrite" data-participant-2="SWrite"><line style="stroke:#000000;stroke-width:1;" x1="899.6313" x2="941.6313" y1="664.3403" y2="664.3403"/><line style="stroke:#000000;stroke-width:1;" x1="941.6313" x2="941.6313" y1="664.3403" y2="677.3403"/><line style="stroke:#000000;stroke-width:1;" x1="900.6313" x2="941.6313" y1="677.3403" y2="677.3403"/><polygon fill="#000000" points="910.6313,673.3403,900.6313,677.3403,910.6313,681.3403,906.6313,677.3403" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="76.2734" x="914.4136" y="643.8115">Update grid</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="91.8379" x="906.6313" y="659.6108">and attributes</text></g><g class="message" data-participant-1="SWrite" data-participant-2="UIBack"><polygon fill="#000000" points="1047.5112,703.1396,1057.5112,707.1396,1047.5112,711.1396,1051.5112,707.1396" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="894.6313" x2="1053.5112" y1="707.1396" y2="707.1396"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="140.8799" x="906.6313" y="702.4102">tty_write(tty_cmd_*)</text></g><g class="message" data-participant-1="UIBack" data-participant-2="UIBack"><line style="stroke:#000000;stroke-width:1;" x1="1069.5112" x2="1111.5112" y1="752.7383" y2="752.7383"/><line style="stroke:#000000;stroke-width:1;" x1="1111.5112" x2="1111.5112" y1="752.7383" y2="765.7383"/><line style="stroke:#000000;stroke-width:1;" x1="1070.5112" x2="1111.5112" y1="765.7383" y2="765.7383"/><polygon fill="#000000" points="1080.5112,761.7383,1070.5112,765.7383,1080.5112,769.7383,1076.5112,765.7383" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="100.147" x="1076.5112" y="732.2095">Aggregate cells</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="67.0566" x="1093.0564" y="748.0088">into spans</text></g><g class="message" data-participant-1="UIBack" data-participant-2="CBack"><polygon fill="#000000" points="1208.1489,791.5376,1218.1489,795.5376,1208.1489,799.5376,1212.1489,795.5376" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1064.5112" x2="1214.1489" y1="795.5376" y2="795.5376"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="114.8672" x="1084.8965" y="790.8081">on_grid_update()</text></g><g class="message" data-participant-1="CBack" data-participant-2="GMap"><polygon fill="#000000" points="1350.501,821.3369,1360.501,825.3369,1350.501,829.3369,1354.501,825.3369" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1225.1489" x2="1356.501" y1="825.3369" y2="825.3369"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="107.5356" x="1240.0571" y="820.6074">ProcessUpdate()</text></g><g class="message" data-participant-1="GMap" data-participant-2="GMap"><line style="stroke:#000000;stroke-width:1;" x1="1372.501" x2="1414.501" y1="870.9355" y2="870.9355"/><line style="stroke:#000000;stroke-width:1;" x1="1414.501" x2="1414.501" y1="870.9355" y2="883.9355"/><line style="stroke:#000000;stroke-width:1;" x1="1373.501" x2="1414.501" y1="883.9355" y2="883.9355"/><polygon fill="#000000" points="1383.501,879.9355,1373.501,883.9355,1383.501,887.9355,1379.501,883.9355" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="122.5542" x="1379.501" y="850.4067">Convert tmux cells</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="116.6445" x="1382.4558" y="866.2061">to Ghostty format</text></g><g class="message" data-participant-1="GMap" data-participant-2="TBuf"><polygon fill="#000000" points="1507.127,909.7349,1517.127,913.7349,1507.127,917.7349,1511.127,913.7349" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1367.501" x2="1513.127" y1="913.7349" y2="913.7349"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="88.9243" x="1398.8518" y="909.0054">UpdateCells()</text></g><g class="message" data-participant-1="TBuf" data-participant-2="TBuf"><line style="stroke:#000000;stroke-width:1;" x1="1529.127" x2="1571.127" y1="943.5342" y2="943.5342"/><line style="stroke:#000000;stroke-width:1;" x1="1571.127" x2="1571.127" y1="943.5342" y2="956.5342"/><line style="stroke:#000000;stroke-width:1;" x1="1530.127" x2="1571.127" y1="956.5342" y2="956.5342"/><polygon fill="#000000" points="1540.127,952.5342,1530.127,956.5342,1540.127,960.5342,1536.127,956.5342" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="119.0249" x="1536.127" y="938.8047">Mark dirty regions</text></g><g class="message" data-participant-1="TBuf" data-participant-2="GPU"><polygon fill="#000000" points="1660.1519,982.3335,1670.1519,986.3335,1660.1519,990.3335,1664.1519,986.3335" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1524.127" x2="1666.1519" y1="986.3335" y2="986.3335"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="99.4233" x="1548.4277" y="981.604">RenderFrame()</text></g><g class="message" data-participant-1="GPU" data-participant-2="GPU"><line style="stroke:#000000;stroke-width:1;" x1="1682.1519" x2="1724.1519" y1="1031.9321" y2="1031.9321"/><line style="stroke:#000000;stroke-width:1;" x1="1724.1519" x2="1724.1519" y1="1031.9321" y2="1044.9321"/><line style="stroke:#000000;stroke-width:1;" x1="1683.1519" x2="1724.1519" y1="1044.9321" y2="1044.9321"/><polygon fill="#000000" points="1693.1519,1040.9321,1683.1519,1044.9321,1693.1519,1048.9321,1689.1519,1044.9321" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="112.5122" x="1689.1519" y="1011.4033">Composite layers</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="72.0015" x="1709.4072" y="1027.2026">and effects</text></g><g class="message" data-participant-1="GPU" data-participant-2="Display"><polygon fill="#000000" points="1811.6641,1070.7314,1821.6641,1074.7314,1811.6641,1078.7314,1815.6641,1074.7314" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1677.1519" x2="1817.6641" y1="1074.7314" y2="1074.7314"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="60.8042" x="1720.0059" y="1070.002">Present()</text></g><g class="message" data-participant-1="Display" data-participant-2="User"><polygon fill="#000000" points="49,1100.5308,39,1104.5308,49,1108.5308,45,1104.5308" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="43" x2="1822.6641" y1="1104.5308" y2="1104.5308"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="86.0869" x="887.7886" y="1099.8013">Visual output</text></g><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1866.2544" x="5" y="1133.4304"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1871.2544" y1="1133.4304" y2="1133.4304"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1871.2544" y1="1136.4304" y2="1136.4304"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1;" width="165.7598" x="855.2473" y="1122.5308"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="147.3164" x="861.2473" y="1139.6006">Layout Change Flow</text><g class="message" data-participant-1="TMux" data-participant-2="UIBack"><polygon fill="#000000" points="1047.5112,1174.1294,1057.5112,1178.1294,1047.5112,1182.1294,1051.5112,1178.1294" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="548.0454" x2="1053.5112" y1="1178.1294" y2="1178.1294"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="95.4243" x="756.0662" y="1173.3999">Layout change</text></g><g class="message" data-participant-1="UIBack" data-participant-2="CBack"><polygon fill="#000000" points="1208.1489,1203.9287,1218.1489,1207.9287,1208.1489,1211.9287,1212.1489,1207.9287" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1064.5112" x2="1214.1489" y1="1207.9287" y2="1207.9287"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="131.6377" x="1076.5112" y="1203.1992">on_layout_change()</text></g><g class="message" data-participant-1="CBack" data-participant-2="GMap"><polygon fill="#000000" points="1350.501,1233.728,1360.501,1237.728,1350.501,1241.728,1354.501,1237.728" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1225.1489" x2="1356.501" y1="1237.728" y2="1237.728"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="102.1719" x="1242.739" y="1232.9985">UpdateLayout()</text></g><g class="message" data-participant-1="GMap" data-participant-2="TBuf"><polygon fill="#000000" points="1512.127,1263.5273,1522.127,1267.5273,1512.127,1271.5273,1516.127,1267.5273" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1367.501" x2="1518.127" y1="1267.5273" y2="1267.5273"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="127.626" x="1382.001" y="1262.7979">ReconfigurePanes()</text></g><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1866.2544" x="5" y="1296.427"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1871.2544" y1="1296.427" y2="1296.427"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1871.2544" y1="1299.427" y2="1299.427"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1;" width="136.7383" x="869.7581" y="1285.5273"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="118.2949" x="875.7581" y="1302.5972">Copy Mode Flow</text><g class="message" data-participant-1="User" data-participant-2="GInput"><polygon fill="#000000" points="160.8364,1337.126,170.8364,1341.126,160.8364,1345.126,164.8364,1341.126" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="38" x2="166.8364" y1="1341.126" y2="1341.126"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="110.8364" x="50" y="1336.3965">Enter copy mode</text></g><g class="message" data-participant-1="GInput" data-participant-2="FFI"><polygon fill="#000000" points="318.6768,1366.9253,328.6768,1370.9253,318.6768,1374.9253,322.6768,1370.9253" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="172.8364" x2="324.6768" y1="1370.9253" y2="1370.9253"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="133.8403" x="184.8364" y="1366.1958">CopyModeCommand</text></g><g class="message" data-participant-1="FFI" data-participant-2="TMux"><polygon fill="#000000" points="536.0454,1396.7246,546.0454,1400.7246,536.0454,1404.7246,540.0454,1400.7246" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="330.6768" x2="542.0454" y1="1400.7246" y2="1400.7246"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="193.3687" x="342.6768" y="1395.9951">tmc_command("copy-mode")</text></g><g class="message" data-participant-1="TMux" data-participant-2="UIBack"><polygon fill="#000000" points="1047.5112,1426.5239,1057.5112,1430.5239,1047.5112,1434.5239,1051.5112,1430.5239" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="548.0454" x2="1053.5112" y1="1430.5239" y2="1430.5239"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="110.8491" x="748.3538" y="1425.7944">Copy mode state</text></g><g class="message" data-participant-1="UIBack" data-participant-2="CBack"><polygon fill="#000000" points="1208.1489,1456.3232,1218.1489,1460.3232,1208.1489,1464.3232,1212.1489,1460.3232" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1064.5112" x2="1214.1489" y1="1460.3232" y2="1460.3232"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="111.2871" x="1086.6865" y="1455.5938">on_copy_mode()</text></g><g class="message" data-participant-1="CBack" data-participant-2="TBuf"><polygon fill="#000000" points="1512.127,1486.1226,1522.127,1490.1226,1512.127,1494.1226,1516.127,1490.1226" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1225.1489" x2="1518.127" y1="1490.1226" y2="1490.1226"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="127.772" x="1310.752" y="1485.3931">SetSelectionMode()</text></g><path d="M961,1503.1226 L961,1560.1226 L1167,1560.1226 L1167,1513.1226 L1157,1503.1226 L961,1503.1226" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1157,1503.1226 L1157,1513.1226 L1167,1513.1226 L1157,1503.1226" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="125.2583" x="1001.6953" y="1521.1924">Key Optimization</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="176.6489" x="976" y="1536.9917">Batches updates per frame</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="157.771" x="985.439" y="1552.791">Coalesces adjacent cells</text><path d="M1274,1570.5205 L1274,1643.5205 L1459,1643.5205 L1459,1580.5205 L1449,1570.5205 L1274,1570.5205" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1449,1570.5205 L1449,1580.5205 L1459,1580.5205 L1449,1570.5205" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="138.125" x="1297.7153" y="1588.5903">Format Conversion</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="155.5557" x="1289" y="1604.3896">- Unicode normalization</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="147.3291" x="1293.1133" y="1620.189">- Color space mapping</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="142.1431" x="1295.7063" y="1635.9883">- Attribute translation</text><!--SRC=[dLRRRkCs47tNLqppb3KGx7k054YKTH1qZJLYkqM11GI66ilSIAH0KadSh-yCITqSOz7jIq9fpZapd9lycpzWWz3MGkdCAryZt0ilO5cRDxXNehAYoJBtedGhw0X2UcCt_aWuyORED3WnbhWNNUst-EvlQrNf1hK7IN_GPbbWmixHcT1UITKACbyy78pp_WYFkkty1GW73-4uHosNZt1dLLbXWD3ZtEwRxXroOwDvk-hUv_Rrzk_FcmFMTR3JqzoyaHPHmrzMKQm1iWddEMf7CGZvWheCaDqZFyqXkQZhPteBJwRhfVAFi0Uw2gn4soR80vtdY2tQHcbHmrsttoVKbiudEkiTF54yQ7kXzMwEk5UEYdiCndJEifkRcEvOvfkRBEEwmDNlAVTm3N_WyTa8MtvUcSuXLq-z2ezzSH9kobXR8z4vQ4ofzWgj-ww5Bi6rA1NTumMFRaBZWbx7ABwyKeja9Pxw69rokPamy7AZNz5wyEQxzeqiIBp089DWt064OvkZ_330NNwQEc7DqKFec40QoJ5MogPJkegNaQPf-7yRxqhl1nBr5752rr1OeSKcteB-w8wjJ1XuVVBm7IKrZkkjAPHldUTOIXhDgIhBS36JUQZc-Ml5bYOr5xgzUEF7OZ5FoqcWQGmITIgoQqi6LDJ9CJV2UwkUG_0ZFCu8Ly8VeyDBFiccB1OplydHw3bDLnAOIjrMbSMACP86cjfCQKguetvt4tYUq4ON76FHXNZdbqq-HgTnLFDUWyToBCxkZ49-8X06ET16-j2ilADIo1Hml_ZsnZR23oGUyY6zEQFd7eE7IOLv9mJEo5q9-mAbiYHEYLA6yj8ZU65SfvMnf9rzSfsWDhaDRHDc3CJSDArnN5lQ8yE88sqewLqFJMic90vf-lp91KWqwp5SLruzr_2dSXsj2HDQENJrLt6a9yWFGbSuDdVVpaC_99mCk9yqqAGZwa0f8kL_zKIiJtJz2osHAlI4qkYzgZgBQw7nR8af0xbfZx0o9VvaKN_Xpoij9aBIviKFAvOrM2AFg-lCWanBxVA2HQvOvEBJcJJdlGjmdgByRubcoO99lvRabAOD-WtMr5lKmwiF8YdHsj3Pq8JrgW2B1Ns-u5lhLQF-4SnUBEZrdV3oW0xYAd10Nr_Oyn2GBJUYHaTZ3gBy8MJyvKB3bz6e0BkOEWe5OZVBCBjfmbtlvmfsMadEb6PxdM88bjpKz3E8bfL4QEW707z2-Frjlpt1MrfaTMGCply5]--></g></svg>