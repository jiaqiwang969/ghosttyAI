<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="2415.625px" preserveAspectRatio="none" style="width:803px;height:2415px;" version="1.1" viewBox="0 0 803 2415" width="803.125px" zoomAndPan="magnify"><title>Ghostty SessionCore&#26550;&#26500; - Phase 1-3 &#23454;&#38469;&#23454;&#29616;&#29366;&#24577;&#20998;&#26512;</title><defs><linearGradient id="g8qsqm6vb2ut00" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#EDF0F2"/><stop offset="100%" stop-color="#E9ECEF"/></linearGradient><linearGradient id="g8qsqm6vb2ut01" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#59B6EC"/><stop offset="100%" stop-color="#2FA4E7"/></linearGradient><linearGradient id="g8qsqm6vb2ut02" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#2FA4E7"/><stop offset="100%" stop-color="#2683B9"/></linearGradient><linearGradient id="g8qsqm6vb2ut03" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#35638F"/><stop offset="100%" stop-color="#033C73"/></linearGradient></defs><g><g class="title" data-source-line="2"><rect fill="url(#g8qsqm6vb2ut00)" height="48.2361" rx="4.1667" ry="4.1667" style="stroke:#BABDBF;stroke-width:1.0417;" width="620.8272" x="86.8846" y="20.8333"/><text fill="#2FA4E7" font-family="Verdana" font-size="20.8333" font-weight="bold" lengthAdjust="spacing" textLength="597.9106" x="98.3429" y="53.2369">Ghostty SessionCore&#26550;&#26500; - Phase 1-3 &#23454;&#38469;&#23454;&#29616;&#29366;&#24577;&#20998;&#26512;</text></g><!--cluster App Layer--><g class="cluster" data-entity="App Layer" data-source-line="4" data-uid="ent0002" id="cluster_App Layer"><path d="M88.5417,86.7778 L167.2974,86.7778 A6.25,6.25 0 0 1 171.464,90.9444 L178.7557,118.6361 L442.7083,118.6361 A4.1667,4.1667 0 0 1 446.875,122.8027 L446.875,604.2673 A4.1667,4.1667 0 0 1 442.7083,608.434 L88.5417,608.434 A4.1667,4.1667 0 0 1 84.375,604.2673 L84.375,90.9444 A4.1667,4.1667 0 0 1 88.5417,86.7778" fill="none" style="stroke:#59B6EC;stroke-width:2.0833;"/><line style="stroke:#59B6EC;stroke-width:2.0833;" x1="84.375" x2="178.7557" y1="118.6361" y2="118.6361"/><text fill="#2FA4E7" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="70.4224" x="93.75" y="106.6366">App Layer</text></g><!--cluster Session Layer (Phase 1-3 ????)--><g class="cluster" data-entity="Session Layer .Phase 1-3 ....." data-source-line="23" data-uid="ent0005" id="cluster_Session Layer .Phase 1-3 ....."><path d="M56.25,684.4757 L303.9022,684.4757 A6.25,6.25 0 0 1 308.0688,688.6423 L315.3605,716.334 L707.2917,716.334 A4.1667,4.1667 0 0 1 711.4583,720.5007 L711.4583,1085.309 A4.1667,4.1667 0 0 1 707.2917,1089.4757 L56.25,1089.4757 A4.1667,4.1667 0 0 1 52.0833,1085.309 L52.0833,688.6423 A4.1667,4.1667 0 0 1 56.25,684.4757" fill="#FFFFE0" style="stroke:#59B6EC;stroke-width:2.0833;"/><line style="stroke:#59B6EC;stroke-width:2.0833;" x1="52.0833" x2="315.3605" y1="716.334" y2="716.334"/><text fill="#2FA4E7" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="239.3188" x="61.4583" y="704.3345">Session Layer (Phase 1-3 &#37096;&#20998;&#23454;&#29616;)</text></g><!--cluster Surface Layer (????)--><g class="cluster" data-entity="Surface Layer ......" data-source-line="53" data-uid="ent0010" id="cluster_Surface Layer ......"><path d="M20.8333,1165.5173 L193.5465,1165.5173 A6.25,6.25 0 0 1 197.7132,1169.684 L205.0049,1197.3757 L337.5,1197.3757 A4.1667,4.1667 0 0 1 341.6667,1201.5423 L341.6667,1728.8403 A4.1667,4.1667 0 0 1 337.5,1733.0069 L20.8333,1733.0069 A4.1667,4.1667 0 0 1 16.6667,1728.8403 L16.6667,1169.684 A4.1667,4.1667 0 0 1 20.8333,1165.5173" fill="#FFA500" style="stroke:#59B6EC;stroke-width:2.0833;"/><line style="stroke:#59B6EC;stroke-width:2.0833;" x1="16.6667" x2="205.0049" y1="1197.3757" y2="1197.3757"/><text fill="#2FA4E7" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="164.3799" x="26.0417" y="1185.3761">Surface Layer (&#37096;&#20998;&#25913;&#21464;)</text></g><!--cluster I/O Layer (Phase 2 ???)--><g class="cluster" data-entity="I.O Layer .Phase 2 ...." data-source-line="72" data-uid="ent0013" id="cluster_I.O Layer .Phase 2 ...."><path d="M370.8333,1522.7569 L563.3952,1522.7569 A6.25,6.25 0 0 1 567.5618,1526.9236 L574.8535,1554.6152 L767.7083,1554.6152 A4.1667,4.1667 0 0 1 771.875,1558.7819 L771.875,2055.8715 A4.1667,4.1667 0 0 1 767.7083,2060.0382 L370.8333,2060.0382 A4.1667,4.1667 0 0 1 366.6667,2055.8715 L366.6667,1526.9236 A4.1667,4.1667 0 0 1 370.8333,1522.7569" fill="#ADD8E6" style="stroke:#59B6EC;stroke-width:2.0833;"/><line style="stroke:#59B6EC;stroke-width:2.0833;" x1="366.6667" x2="574.8535" y1="1554.6152" y2="1554.6152"/><text fill="#2FA4E7" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="184.2285" x="376.0417" y="1542.6157">I/O Layer (Phase 2 &#21452;&#27169;&#24335;)</text></g><!--class App--><g class="entity" data-entity="App" data-source-line="5" data-uid="ent0003" id="entity_App"><rect fill="url(#g8qsqm6vb2ut01)" height="148.7951" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="239.5472" x="145.8542" y="131.5694"/><rect fill="url(#g8qsqm6vb2ut02)" height="34.759" rx="4.1667" ry="4.1667" style="stroke:url(#g8qsqm6vb2ut02);stroke-width:1.0417;" width="239.5472" x="145.8542" y="131.5694"/><rect fill="url(#g8qsqm6vb2ut02)" height="4.1667" style="stroke:url(#g8qsqm6vb2ut02);stroke-width:1.0417;" width="239.5472" x="145.8542" y="162.1618"/><rect fill="none" height="148.7951" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="239.5472" x="145.8542" y="131.5694"/><ellipse cx="245.1973" cy="148.9489" fill="#EDF0F2" rx="10.4167" ry="10.4167" style="stroke:#BABDBF;stroke-width:1.0417;"/><path d="M247.1077,153.374 Q246.6804,153.5937 246.2105,153.7036 Q245.7405,153.8134 245.2217,153.8134 Q243.3784,153.8134 242.408,152.5988 Q241.4375,151.3842 241.4375,149.0893 Q241.4375,146.7883 242.408,145.5737 Q243.3784,144.3591 245.2217,144.3591 Q245.7405,144.3591 246.2166,144.4689 Q246.6926,144.5788 247.1077,144.7985 L247.1077,146.8005 Q246.6438,146.3732 246.2074,146.1749 Q245.771,145.9765 245.3071,145.9765 Q244.3184,145.9765 243.8148,146.7608 Q243.3113,147.5451 243.3113,149.0893 Q243.3113,150.6274 243.8148,151.4117 Q244.3184,152.196 245.3071,152.196 Q245.771,152.196 246.2074,151.9976 Q246.6438,151.7993 247.1077,151.372 Z " fill="#FFFFFF"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="22.111" x="270.1973" y="153.506">App</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="146.8958" x2="384.3597" y1="166.3284" y2="166.3284"/><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="154.1875" y="181.1038"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="203.0889" x="170.8542" y="187.2233">session_manager: SessionManager</text><ellipse cx="157.3125" cy="208.5711" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="98.1232" x="170.8542" y="211.5657">mailbox: Mailbox</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="146.8958" x2="384.3597" y1="223.3465" y2="223.3465"/><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="154.1875" y="238.1218"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="162.3861" x="170.8542" y="244.2413">surfaces: ArrayList(Surface)</text><ellipse cx="157.3125" cy="265.5891" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="151.0117" x="170.8542" y="268.5837">createSurface(attach_to?)</text></g><!--class SessionManager--><g class="entity" data-entity="SessionManager" data-source-line="12" data-uid="ent0004" id="entity_SessionManager"><rect fill="url(#g8qsqm6vb2ut01)" height="221.8221" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="328.3086" x="101.4688" y="369.9444"/><rect fill="url(#g8qsqm6vb2ut02)" height="34.759" rx="4.1667" ry="4.1667" style="stroke:url(#g8qsqm6vb2ut02);stroke-width:1.0417;" width="328.3086" x="101.4688" y="369.9444"/><rect fill="url(#g8qsqm6vb2ut02)" height="4.1667" style="stroke:url(#g8qsqm6vb2ut02);stroke-width:1.0417;" width="328.3086" x="101.4688" y="400.5368"/><rect fill="none" height="221.8221" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="328.3086" x="101.4688" y="369.9444"/><ellipse cx="209.5111" cy="387.3239" fill="#EDF0F2" rx="10.4167" ry="10.4167" style="stroke:#BABDBF;stroke-width:1.0417;"/><path d="M211.4215,391.749 Q210.9943,391.9687 210.5243,392.0786 Q210.0544,392.1884 209.5356,392.1884 Q207.6923,392.1884 206.7218,390.9738 Q205.7514,389.7592 205.7514,387.4643 Q205.7514,385.1633 206.7218,383.9487 Q207.6923,382.7341 209.5356,382.7341 Q210.0544,382.7341 210.5304,382.8439 Q211.0065,382.9538 211.4215,383.1735 L211.4215,385.1755 Q210.9577,384.7482 210.5213,384.5499 Q210.0849,384.3515 209.621,384.3515 Q208.6322,384.3515 208.1287,385.1358 Q207.6252,385.9201 207.6252,387.4643 Q207.6252,389.0024 208.1287,389.7867 Q208.6322,390.571 209.621,390.571 Q210.0849,390.571 210.5213,390.3726 Q210.9577,390.1743 211.4215,389.747 Z " fill="#FFFFFF"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="93.4738" x="234.5111" y="391.881">SessionManager</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="102.5104" x2="428.7357" y1="404.7034" y2="404.7034"/><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="102.5104" x2="428.7357" y1="413.0368" y2="413.0368"/><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="109.8021" y="427.8121"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="233.7713" x="126.4688" y="433.9316">sessions: HashMap(name-&gt;SessionInfo)</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="109.8021" y="452.1544"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="291.8503" x="126.4688" y="458.274">cores: HashMap(name-&gt;SessionCore) '&#9989; Phase 1</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="109.8021" y="476.4968"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="208.4264" x="126.4688" y="482.6163">pointer_map: HashMap(ptr-&gt;name)</text><ellipse cx="112.9271" cy="503.9641" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="291.2684" x="126.4688" y="506.9587">getOrCreateCore(name): SessionCore '&#9989; Phase 1</text><ellipse cx="112.9271" cy="528.3065" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="246.4213" x="126.4688" y="531.301">registerSession(name, surface, is_remote)</text><ellipse cx="112.9271" cy="552.6488" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="201.1922" x="126.4688" y="555.6434">sendToSession(from, to, message)</text><ellipse cx="112.9271" cy="576.9912" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="241.099" x="126.4688" y="579.9857">isSessionCoreEnabled(): bool '&#9989; Phase 1</text></g><!--class SessionCore--><g class="entity" data-entity="SessionCore" data-source-line="24" data-uid="ent0006" id="entity_SessionCore"><rect fill="url(#g8qsqm6vb2ut01)" height="343.5338" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="393.5633" x="68.8438" y="729.2673"/><rect fill="url(#g8qsqm6vb2ut02)" height="34.759" rx="4.1667" ry="4.1667" style="stroke:url(#g8qsqm6vb2ut02);stroke-width:1.0417;" width="393.5633" x="68.8438" y="729.2673"/><rect fill="url(#g8qsqm6vb2ut02)" height="4.1667" style="stroke:url(#g8qsqm6vb2ut02);stroke-width:1.0417;" width="393.5633" x="68.8438" y="759.8597"/><rect fill="none" height="343.5338" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="393.5633" x="68.8438" y="729.2673"/><ellipse cx="220.9411" cy="746.6468" fill="#EDF0F2" rx="10.4167" ry="10.4167" style="stroke:#BABDBF;stroke-width:1.0417;"/><path d="M222.8515,751.0719 Q222.4242,751.2916 221.9543,751.4015 Q221.4843,751.5113 220.9655,751.5113 Q219.1222,751.5113 218.1518,750.2967 Q217.1813,749.0821 217.1813,746.7872 Q217.1813,744.4862 218.1518,743.2716 Q219.1222,742.057 220.9655,742.057 Q221.4843,742.057 221.9604,742.1669 Q222.4364,742.2767 222.8515,742.4964 L222.8515,744.4984 Q222.3876,744.0712 221.9512,743.8728 Q221.5148,743.6744 221.0509,743.6744 Q220.0622,743.6744 219.5586,744.4587 Q219.0551,745.243 219.0551,746.7872 Q219.0551,748.3253 219.5586,749.1096 Q220.0622,749.8939 221.0509,749.8939 Q221.5148,749.8939 221.9512,749.6955 Q222.3876,749.4972 222.8515,749.0699 Z " fill="#FFFFFF"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="70.6187" x="245.9411" y="751.2039">SessionCore</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="69.8854" x2="461.3654" y1="764.0263" y2="764.0263"/><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="77.1771" y="778.8017"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="77.0177" x="93.8438" y="784.9212">id: String '&#9989;</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="77.1771" y="803.144"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="270.7352" x="93.8438" y="809.2636">ownership_mode: OwnershipMode '&#9989; Phase 3</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="77.1771" y="827.4864"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="228.6057" x="93.8438" y="833.6059">terminal_ref: ?*anyopaque '&#9989; Phase 1</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="77.1771" y="851.8287"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="310.4324" x="93.8438" y="857.9483">owned_terminal: ?Terminal '&#9888;&#65039; Phase 3 &#23450;&#20041;&#20294;&#26410;&#20351;&#29992;</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="77.1771" y="876.1711"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="228.0869" x="93.8438" y="882.2906">is_detached: bool '&#9888;&#65039; &#26631;&#24535;&#23384;&#22312;&#20294;&#26080;&#25928;&#26524;</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="77.1771" y="900.5134"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="243.2587" x="93.8438" y="906.633">terminal_snapshot: ?[]const u8 '&#10060; &#26410;&#23454;&#29616;</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="69.8854" x2="461.3654" y1="918.4138" y2="918.4138"/><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="77.1771" y="933.1891"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="269.0903" x="93.8438" y="939.3086">attached_surfaces: ArrayList(*anyopaque) '&#9989;</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="77.1771" y="957.5314"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="158.7199" x="93.8438" y="963.651">ref_count: Atomic(u32) '&#9989;</text><ellipse cx="80.3021" cy="984.9988" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="354.9398" x="93.8438" y="987.9933">getTerminalForBorrowing(): ?*Terminal '&#9888;&#65039; &#26041;&#27861;&#23384;&#22312;&#20294;&#26410;&#35843;&#29992;</text><ellipse cx="80.3021" cy="1009.3411" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="357.105" x="93.8438" y="1012.3357">attachSurfaceWithTerminal(): *Terminal '&#9888;&#65039; &#26410;&#34987;Surface&#20351;&#29992;</text><ellipse cx="80.3021" cy="1033.6835" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="266.6901" x="93.8438" y="1036.678">createOwnedTerminal(opts): void '&#10060; &#20174;&#26410;&#35843;&#29992;</text><ellipse cx="80.3021" cy="1058.0258" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="300.2594" x="93.8438" y="1061.0204">takeTerminalOwnership(terminal): void '&#10060; &#20174;&#26410;&#35843;&#29992;</text></g><g class="entity" data-entity="GMN7" data-source-line="40" data-uid="ent0008" id="entity_GMN7"><path d="M498.8646,818.8298 L498.8646,896.8715 L462.625,901.0382 L498.8646,905.2048 L498.8646,983.2463 A4.1667,4.1667 0 0 0 503.0313,987.413 L690.7103,987.413 A4.1667,4.1667 0 0 0 694.877,983.2463 L694.877,825.0798 L684.4603,814.6632 L503.0313,814.6632 A4.1667,4.1667 0 0 0 498.8646,818.8298" fill="url(#g8qsqm6vb2ut03)" style="stroke:#033C73;stroke-width:1.0417;"/><path d="M684.4603,814.6632 L684.4603,822.9965 A2.0833,2.0833 0 0 0 686.5436,825.0798 L694.877,825.0798 L684.4603,814.6632" fill="url(#g8qsqm6vb2ut03)" style="stroke:#033C73;stroke-width:1.0417;"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="55.6763" x="510.3229" y="837.647">&#23454;&#38469;&#29366;&#24577;:</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="155.3874" x="510.3229" y="852.8386">&#9989; Phase 1: &#22522;&#30784;&#32467;&#26500;&#23436;&#25104;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="163.7207" x="510.3229" y="868.0303">&#9888;&#65039; Phase 2: &#23450;&#20041;&#20294;&#26410;&#38598;&#25104;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="155.3874" x="510.3229" y="883.2219">&#10060; Phase 3: &#20851;&#38190;&#21151;&#33021;&#32570;&#22833;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="4.3945" x="510.3229" y="898.4136">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="30.6763" x="510.3229" y="913.6052">&#38382;&#39064;:</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="139.9902" x="510.3229" y="928.7969">- &#26080;Terminal&#29366;&#24577;&#25345;&#20037;&#21270;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="127.4902" x="510.3229" y="943.9885">- &#26080;Terminal&#20869;&#23481;&#20999;&#25442;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="111.8591" x="510.3229" y="959.1802">- attach&#20165;&#26356;&#26032;&#25351;&#38024;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="97.5708" x="510.3229" y="974.3718">- &#19981;&#24433;&#21709;&#28210;&#26579;&#20869;&#23481;</text></g><!--class Surface--><g class="entity" data-entity="Surface" data-source-line="54" data-uid="ent0011" id="entity_Surface"><rect fill="url(#g8qsqm6vb2ut01)" height="221.8221" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="291.1641" x="33.5833" y="1210.309"/><rect fill="url(#g8qsqm6vb2ut02)" height="34.759" rx="4.1667" ry="4.1667" style="stroke:url(#g8qsqm6vb2ut02);stroke-width:1.0417;" width="291.1641" x="33.5833" y="1210.309"/><rect fill="url(#g8qsqm6vb2ut02)" height="4.1667" style="stroke:url(#g8qsqm6vb2ut02);stroke-width:1.0417;" width="291.1641" x="33.5833" y="1240.9013"/><rect fill="none" height="221.8221" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="291.1641" x="33.5833" y="1210.309"/><ellipse cx="147.9508" cy="1227.6885" fill="#EDF0F2" rx="10.4167" ry="10.4167" style="stroke:#BABDBF;stroke-width:1.0417;"/><path d="M149.8612,1232.1136 Q149.4339,1232.3333 148.9639,1232.4431 Q148.494,1232.553 147.9752,1232.553 Q146.1319,1232.553 145.1614,1231.3384 Q144.191,1230.1238 144.191,1227.8289 Q144.191,1225.5279 145.1614,1224.3133 Q146.1319,1223.0987 147.9752,1223.0987 Q148.494,1223.0987 148.97,1223.2085 Q149.4461,1223.3184 149.8612,1223.5381 L149.8612,1225.5401 Q149.3973,1225.1128 148.9609,1224.9145 Q148.5245,1224.7161 148.0606,1224.7161 Q147.0718,1224.7161 146.5683,1225.5004 Q146.0648,1226.2847 146.0648,1227.8289 Q146.0648,1229.367 146.5683,1230.1513 Q147.0718,1230.9356 148.0606,1230.9356 Q148.5245,1230.9356 148.9609,1230.7372 Q149.3973,1230.5388 149.8612,1230.1116 Z " fill="#FFFFFF"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="43.6793" x="172.9508" y="1232.2455">Surface</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="34.625" x2="323.7058" y1="1245.068" y2="1245.068"/><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="41.9167" y="1259.8434"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="151.1739" x="58.5833" y="1265.9629">io: Termio '&#20173;&#25317;&#26377;Terminal</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="41.9167" y="1284.1857"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="108.3954" x="58.5833" y="1290.3052">session_id: [32]u8</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="41.9167" y="1308.528"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="254.7058" x="58.5833" y="1314.6476">session_core: ?*anyopaque '&#9989; Phase 3&#23383;&#27573;</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="41.9167" y="1332.8704"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="177.9455" x="58.5833" y="1338.9899">renderer_state: RendererState</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="34.625" x2="323.7058" y1="1350.7707" y2="1350.7707"/><ellipse cx="45.0417" cy="1368.6711" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="237.0707" x="58.5833" y="1371.6656">processReceivedMessage(from, msg) '&#9989;</text><ellipse cx="45.0417" cy="1393.0134" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="195.726" x="58.5833" y="1396.008">attachToSession() '&#9888;&#65039; &#20165;&#26356;&#26032;&#25351;&#38024;</text><ellipse cx="45.0417" cy="1417.3558" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="213.8535" x="58.5833" y="1420.3503">detachFromSession() '&#9888;&#65039; &#20165;&#28165;&#31354;&#25351;&#38024;</text></g><!--class RendererState--><g class="entity" data-entity="RendererState" data-source-line="66" data-uid="ent0012" id="entity_RendererState"><rect fill="url(#g8qsqm6vb2ut01)" height="100.1104" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="247.7325" x="55.3021" y="1616.2257"/><rect fill="url(#g8qsqm6vb2ut02)" height="34.759" rx="4.1667" ry="4.1667" style="stroke:url(#g8qsqm6vb2ut02);stroke-width:1.0417;" width="247.7325" x="55.3021" y="1616.2257"/><rect fill="url(#g8qsqm6vb2ut02)" height="4.1667" style="stroke:url(#g8qsqm6vb2ut02);stroke-width:1.0417;" width="247.7325" x="55.3021" y="1646.818"/><rect fill="none" height="100.1104" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="247.7325" x="55.3021" y="1616.2257"/><ellipse cx="128.2009" cy="1633.6052" fill="#EDF0F2" rx="10.4167" ry="10.4167" style="stroke:#BABDBF;stroke-width:1.0417;"/><path d="M130.1113,1638.0302 Q129.6841,1638.2499 129.2141,1638.3598 Q128.7442,1638.4697 128.2254,1638.4697 Q126.3821,1638.4697 125.4116,1637.2551 Q124.4412,1636.0405 124.4412,1633.7456 Q124.4412,1631.4445 125.4116,1630.2299 Q126.3821,1629.0153 128.2254,1629.0153 Q128.7442,1629.0153 129.2202,1629.1252 Q129.6963,1629.2351 130.1113,1629.4548 L130.1113,1631.4567 Q129.6475,1631.0295 129.2111,1630.8311 Q128.7747,1630.6328 128.3108,1630.6328 Q127.322,1630.6328 126.8185,1631.4171 Q126.315,1632.2014 126.315,1633.7456 Q126.315,1635.2836 126.8185,1636.0679 Q127.322,1636.8522 128.3108,1636.8522 Q128.7747,1636.8522 129.2111,1636.6539 Q129.6475,1636.4555 130.1113,1636.0283 Z " fill="#FFFFFF"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="83.1848" x="153.2009" y="1638.1622">RendererState</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="56.3438" x2="301.993" y1="1650.9847" y2="1650.9847"/><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="63.6354" y="1665.76"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="211.2742" x="80.3021" y="1671.8796">terminal: *Terminal '&#20173;&#30001;Surface&#25317;&#26377;</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="56.3438" x2="301.993" y1="1683.6604" y2="1683.6604"/><ellipse cx="66.7604" cy="1701.5607" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="100.5514" x="80.3021" y="1704.5552">renderWithLock()</text></g><!--class Termio--><g class="entity" data-entity="Termio" data-source-line="73" data-uid="ent0014" id="entity_Termio"><rect fill="url(#g8qsqm6vb2ut01)" height="197.4798" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="285.6644" x="383.2083" y="1567.5486"/><rect fill="url(#g8qsqm6vb2ut02)" height="34.759" rx="4.1667" ry="4.1667" style="stroke:url(#g8qsqm6vb2ut02);stroke-width:1.0417;" width="285.6644" x="383.2083" y="1567.5486"/><rect fill="url(#g8qsqm6vb2ut02)" height="4.1667" style="stroke:url(#g8qsqm6vb2ut02);stroke-width:1.0417;" width="285.6644" x="383.2083" y="1598.1409"/><rect fill="none" height="197.4798" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="285.6644" x="383.2083" y="1567.5486"/><ellipse cx="496.6554" cy="1584.9281" fill="#EDF0F2" rx="10.4167" ry="10.4167" style="stroke:#BABDBF;stroke-width:1.0417;"/><path d="M498.5658,1589.3531 Q498.1385,1589.5729 497.6686,1589.6827 Q497.1986,1589.7926 496.6798,1589.7926 Q494.8365,1589.7926 493.8661,1588.578 Q492.8956,1587.3634 492.8956,1585.0685 Q492.8956,1582.7674 493.8661,1581.5528 Q494.8365,1580.3382 496.6798,1580.3382 Q497.1986,1580.3382 497.6747,1580.4481 Q498.1508,1580.558 498.5658,1580.7777 L498.5658,1582.7797 Q498.1019,1582.3524 497.6655,1582.154 Q497.2291,1581.9557 496.7653,1581.9557 Q495.7765,1581.9557 495.2729,1582.74 Q494.7694,1583.5243 494.7694,1585.0685 Q494.7694,1586.6066 495.2729,1587.3909 Q495.7765,1588.1752 496.7653,1588.1752 Q497.2291,1588.1752 497.6655,1587.9768 Q498.1019,1587.7784 498.5658,1587.3512 Z " fill="#FFFFFF"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="40.0202" x="521.6554" y="1589.4851">Termio</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="384.25" x2="667.831" y1="1602.3076" y2="1602.3076"/><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="391.5417" y="1617.0829"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="249.206" x="408.2083" y="1623.2025">terminal_mode: TerminalMode '&#9989; Phase 2</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="391.5417" y="1641.4253"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="211.2503" x="408.2083" y="1647.5448">terminal_storage: union '&#9989; Phase 2</text><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="97.1217" x="408.2083" y="1671.8872">owned: Terminal</text><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="121.0286" x="408.2083" y="1696.2295">borrowed: *Terminal</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="391.5417" y="1714.4523"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="54.9362" x="408.2083" y="1720.5719">pty: ?PTY</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="384.25" x2="667.831" y1="1732.3527" y2="1732.3527"/><ellipse cx="394.6667" cy="1750.253" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="147.7931" x="408.2083" y="1753.2475">terminal(): *Terminal '&#9989;</text></g><!--class Terminal--><g class="entity" data-entity="Terminal" data-source-line="84" data-uid="ent0015" id="entity_Terminal"><rect fill="url(#g8qsqm6vb2ut01)" height="173.1374" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="182.166" x="573.5" y="1870.2361"/><rect fill="url(#g8qsqm6vb2ut02)" height="34.759" rx="4.1667" ry="4.1667" style="stroke:url(#g8qsqm6vb2ut02);stroke-width:1.0417;" width="182.166" x="573.5" y="1870.2361"/><rect fill="url(#g8qsqm6vb2ut02)" height="4.1667" style="stroke:url(#g8qsqm6vb2ut02);stroke-width:1.0417;" width="182.166" x="573.5" y="1900.8284"/><rect fill="none" height="173.1374" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="182.166" x="573.5" y="1870.2361"/><ellipse cx="630.0366" cy="1887.6156" fill="#EDF0F2" rx="10.4167" ry="10.4167" style="stroke:#BABDBF;stroke-width:1.0417;"/><path d="M631.947,1892.0406 Q631.5198,1892.2604 631.0498,1892.3702 Q630.5798,1892.4801 630.061,1892.4801 Q628.2178,1892.4801 627.2473,1891.2655 Q626.2768,1890.0509 626.2768,1887.756 Q626.2768,1885.4549 627.2473,1884.2403 Q628.2178,1883.0257 630.061,1883.0257 Q630.5798,1883.0257 631.0559,1883.1356 Q631.532,1883.2455 631.947,1883.4652 L631.947,1885.4672 Q631.4831,1885.0399 631.0467,1884.8415 Q630.6103,1884.6432 630.1465,1884.6432 Q629.1577,1884.6432 628.6542,1885.4275 Q628.1506,1886.2118 628.1506,1887.756 Q628.1506,1889.2941 628.6542,1890.0784 Q629.1577,1890.8627 630.1465,1890.8627 Q630.6103,1890.8627 631.0467,1890.6643 Q631.4831,1890.4659 631.947,1890.0387 Z " fill="#FFFFFF"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="50.3428" x="655.0366" y="1892.1726">Terminal</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="574.5417" x2="754.6244" y1="1904.9951" y2="1904.9951"/><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="581.8333" y="1919.7704"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="86.5585" x="598.5" y="1925.89">screen: Screen</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="581.8333" y="1944.1128"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="124.7828" x="598.5" y="1950.2323">scrollback: Scrollback</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="581.8333" y="1968.4551"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="83.1121" x="598.5" y="1974.5747">cursor: Cursor</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="574.5417" x2="754.6244" y1="1986.3555" y2="1986.3555"/><ellipse cx="584.9583" cy="2004.2558" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="64.5762" x="598.5" y="2007.2503">write(data)</text><ellipse cx="584.9583" cy="2028.5982" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="145.7077" x="598.5" y="2031.5927">getSnapshot(): Snapshot</text></g><!--class PTY--><g class="entity" data-entity="PTY" data-source-line="92" data-uid="ent0016" id="entity_PTY"><rect fill="url(#g8qsqm6vb2ut01)" height="173.1374" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="154.186" x="383.3229" y="1870.2361"/><rect fill="url(#g8qsqm6vb2ut02)" height="34.759" rx="4.1667" ry="4.1667" style="stroke:url(#g8qsqm6vb2ut02);stroke-width:1.0417;" width="154.186" x="383.3229" y="1870.2361"/><rect fill="url(#g8qsqm6vb2ut02)" height="4.1667" style="stroke:url(#g8qsqm6vb2ut02);stroke-width:1.0417;" width="154.186" x="383.3229" y="1900.8284"/><rect fill="none" height="173.1374" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="154.186" x="383.3229" y="1870.2361"/><ellipse cx="440.5309" cy="1887.6156" fill="#EDF0F2" rx="10.4167" ry="10.4167" style="stroke:#BABDBF;stroke-width:1.0417;"/><path d="M442.4413,1892.0406 Q442.0141,1892.2604 441.5441,1892.3702 Q441.0741,1892.4801 440.5553,1892.4801 Q438.7121,1892.4801 437.7416,1891.2655 Q436.7711,1890.0509 436.7711,1887.756 Q436.7711,1885.4549 437.7416,1884.2403 Q438.7121,1883.0257 440.5553,1883.0257 Q441.0741,1883.0257 441.5502,1883.1356 Q442.0263,1883.2455 442.4413,1883.4652 L442.4413,1885.4672 Q441.9774,1885.0399 441.541,1884.8415 Q441.1046,1884.6432 440.6408,1884.6432 Q439.652,1884.6432 439.1485,1885.4275 Q438.6449,1886.2118 438.6449,1887.756 Q438.6449,1889.2941 439.1485,1890.0784 Q439.652,1890.8627 440.6408,1890.8627 Q441.1046,1890.8627 441.541,1890.6643 Q441.9774,1890.4659 442.4413,1890.0387 Z " fill="#FFFFFF"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="21.02" x="465.5309" y="1892.1726">PTY</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="384.3646" x2="536.4672" y1="1904.9951" y2="1904.9951"/><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="391.6563" y="1919.7704"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="99.2254" x="408.3229" y="1925.89">fd: FileDescriptor</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="391.6563" y="1944.1128"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="117.7277" x="408.3229" y="1950.2323">child_pid: ProcessID</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="384.3646" x2="536.4672" y1="1962.0131" y2="1962.0131"/><ellipse cx="394.7813" cy="1979.9135" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="73.3602" x="408.3229" y="1982.908">spawn(shell)</text><ellipse cx="394.7813" cy="2004.2558" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="76.6052" x="408.3229" y="2007.2503">read(): bytes</text><ellipse cx="394.7813" cy="2028.5982" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="70.3893" x="408.3229" y="2031.5927">write(bytes)</text></g><g class="entity" data-entity="GMN25" data-source-line="114" data-uid="ent0026" id="entity_GMN25"><path d="M340.5104,2113.1632 L340.5104,2399.1129 A4.1667,4.1667 0 0 0 344.6771,2403.2795 L576.1611,2403.2795 A4.1667,4.1667 0 0 0 580.3277,2399.1129 L580.3277,2119.4132 L569.9111,2108.9965 L464.5833,2108.9965 L460.4167,2043.8194 L456.25,2108.9965 L344.6771,2108.9965 A4.1667,4.1667 0 0 0 340.5104,2113.1632" fill="url(#g8qsqm6vb2ut03)" style="stroke:#033C73;stroke-width:1.0417;"/><path d="M569.9111,2108.9965 L569.9111,2117.3298 A2.0833,2.0833 0 0 0 571.9944,2119.4132 L580.3277,2119.4132 L569.9111,2108.9965" fill="url(#g8qsqm6vb2ut03)" style="stroke:#033C73;stroke-width:1.0417;"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="105.0293" x="351.9688" y="2131.9803">&#23454;&#38469;&#23454;&#29616;&#29366;&#24577;&#24635;&#32467;:</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="4.3945" x="351.9688" y="2147.172">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="64.2375" x="351.9688" y="2162.3636">&#9989; &#24050;&#23436;&#25104;:</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="137.1094" x="351.9688" y="2177.5553">- SessionCore&#22522;&#30784;&#32467;&#26500;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="116.2292" x="351.9688" y="2192.7469">- Termio&#21452;&#27169;&#24335;&#23450;&#20041;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="136.5356" x="351.9688" y="2207.9386">- attach/detach&#21629;&#20196;UI</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="85.0708" x="351.9688" y="2223.1302">- &#28040;&#24687;&#36335;&#30001;&#26426;&#21046;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="4.3945" x="351.9688" y="2238.3219">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="166.7399" x="351.9688" y="2253.5135">&#10060; &#20851;&#38190;&#32570;&#22833; (Phase 4&#38656;&#27714;):</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="152.4841" x="351.9688" y="2268.7052">1. Terminal&#29366;&#24577;&#24555;&#29031;/&#24674;&#22797;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="148.0469" x="351.9688" y="2283.8968">2. Termio&#36816;&#34892;&#26102;&#37325;&#21021;&#22987;&#21270;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="104.3884" x="351.9688" y="2299.0885">3. &#28210;&#26579;&#22120;&#21047;&#26032;&#26426;&#21046;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="89.8193" x="351.9688" y="2314.2801">4. PTY&#31649;&#29702;&#36716;&#31227;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="91.8884" x="351.9688" y="2329.4718">5. &#23454;&#38469;&#20869;&#23481;&#20999;&#25442;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="4.3945" x="351.9688" y="2344.6634">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="55.6763" x="351.9688" y="2359.8551">&#26680;&#24515;&#38382;&#39064;:</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="207.5256" x="351.9688" y="2375.0467">attach&#20165;&#26356;&#26032;&#20102;session_core&#25351;&#38024;&#65292;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="167.4194" x="351.9688" y="2390.2384">&#20294;Terminal&#20869;&#23481;&#20173;&#20445;&#25345;&#19981;&#21464;&#65281;</text></g><!--reverse link App to SessionManager--><g class="link" data-entity-1="App" data-entity-2="SessionManager" data-source-line="102" data-uid="lnk17" id="link_App_SessionManager"><path codeLine="102" d="M265.625,293.3403 C265.625,320.6319 265.625,339.7048 265.625,369.5382" fill="none" id="App-backto-SessionManager" style="stroke:#2FA4E7;stroke-width:3.125;"/><polygon fill="#2FA4E7" points="265.625,280.8403,261.4583,287.0903,265.625,293.3403,269.7917,287.0903,265.625,280.8403" style="stroke:#2FA4E7;stroke-width:3.125;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="32.2388" x="271.875" y="330.4282">owns</text></g><!--reverse link SessionManager to SessionCore--><g class="link" data-entity-1="SessionManager" data-entity-2="SessionCore" data-source-line="103" data-uid="lnk18" id="link_SessionManager_SessionCore"><path codeLine="103" d="M265.625,604.5278 C265.625,646.3819 265.625,682.6111 265.625,728.7986" fill="none" id="SessionManager-backto-SessionCore" style="stroke:#2FA4E7;stroke-width:3.125;"/><polygon fill="#2FA4E7" points="265.625,592.0278,261.4583,598.2778,265.625,604.5278,269.7917,598.2778,265.625,592.0278" style="stroke:#2FA4E7;stroke-width:3.125;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="32.2388" x="296.5902" y="643.9178">owns</text><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="81.6691" x="271.875" y="659.1095">(Phase 1 &#9989;)</text><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="7.9102" x="252.7378" y="713.217">n</text></g><!--link SessionCore to Terminal--><g class="link" data-entity-1="SessionCore" data-entity-2="Terminal" data-source-line="105" data-uid="lnk19" id="link_SessionCore_Terminal"><path codeLine="105" d="M422.4375,1073.1319 C517.8958,1188.6423 631.8438,1349.6007 687.5,1514.4236 C733.6875,1651.2048 722.8021,1696.2569 701.0417,1838.9861 C699.5,1849.059 698.811,1853.4106 696.186,1863.6606" fill="none" id="SessionCore-to-Terminal" style="stroke:#2FA4E7;stroke-width:3.125;stroke-dasharray:7.2917,7.2917;"/><polygon fill="#2FA4E7" points="694.6354,1869.7153,700.9977,1861.6671,695.9276,1864.6697,692.9249,1859.5996,694.6354,1869.7153" style="stroke:#2FA4E7;stroke-width:3.125;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="96.5027" x="688.7188" y="1482.1991">references only</text><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="60.6079" x="706.6661" y="1497.3907">(Phase 1)</text></g><!--reverse link SessionCore to Surface--><g class="link" data-entity-1="SessionCore" data-entity-2="Surface" data-source-line="106" data-uid="lnk20" id="link_SessionCore_Surface"><path codeLine="106" d="M227.7405,1085.2794 C218.178,1131.5398 210.6042,1168.1319 201.9375,1210.0694" fill="none" id="SessionCore-backto-Surface" style="stroke:#2FA4E7;stroke-width:3.125;"/><polygon fill="none" points="230.2708,1073.0382,224.9252,1078.3153,227.7405,1085.2794,233.086,1080.0022,230.2708,1073.0382" style="stroke:#2FA4E7;stroke-width:3.125;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="38.1897" x="242.3024" y="1124.9595">tracks</text><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="65.5029" x="228.6458" y="1140.1511">(weak ref)</text><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="7.9102" x="190.4378" y="1194.1721">n</text></g><!--reverse link Surface to Termio--><g class="link" data-entity-1="Surface" data-entity-2="Termio" data-source-line="108" data-uid="lnk21" id="link_Surface_Termio"><path codeLine="108" d="M299.2414,1440.9846 C343.1268,1484.3909 384.2708,1525.059 426.9063,1567.2257" fill="none" id="Surface-backto-Termio" style="stroke:#2FA4E7;stroke-width:3.125;"/><polygon fill="#2FA4E7" points="290.3542,1432.1944,291.8677,1439.5519,299.2414,1440.9846,297.7278,1433.6271,290.3542,1432.1944" style="stroke:#2FA4E7;stroke-width:3.125;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="32.2388" x="377.5569" y="1482.1991">owns</text><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="48.8525" x="369.25" y="1497.3907">(&#26410;&#25913;&#21464;)</text></g><!--reverse link Surface to RendererState--><g class="link" data-entity-1="Surface" data-entity-2="RendererState" data-source-line="109" data-uid="lnk22" id="link_Surface_RendererState"><path codeLine="109" d="M179.1667,1444.6944 C179.1667,1506.6111 179.1667,1568.3715 179.1667,1616.1528" fill="none" id="Surface-backto-RendererState" style="stroke:#2FA4E7;stroke-width:3.125;"/><polygon fill="#2FA4E7" points="179.1667,1432.1944,175,1438.4444,179.1667,1444.6944,183.3333,1438.4444,179.1667,1432.1944" style="stroke:#2FA4E7;stroke-width:3.125;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="32.2388" x="185.4167" y="1490.0116">owns</text></g><!--reverse link Termio to Terminal--><g class="link" data-entity-1="Termio" data-entity-2="Terminal" data-source-line="110" data-uid="lnk23" id="link_Termio_Terminal"><path codeLine="110" d="M559.9507,1777.0962 C568.6903,1801.6587 574.8646,1815.8194 586.4583,1838.9861 C591.5938,1849.2361 597.4688,1859.6632 603.6458,1869.8403" fill="none" id="Termio-backto-Terminal" style="stroke:#2FA4E7;stroke-width:3.125;"/><polygon fill="#2FA4E7" points="555.7604,1765.3194,553.93,1772.6045,559.9507,1777.0962,561.7811,1769.811,555.7604,1765.3194" style="stroke:#2FA4E7;stroke-width:3.125;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="32.2388" x="625.6429" y="1815.0949">owns</text><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="98.1079" x="592.7083" y="1830.2865">(Phase 1&#26410;&#25913;&#21464;)</text></g><!--reverse link Termio to PTY--><g class="link" data-entity-1="Termio" data-entity-2="PTY" data-source-line="111" data-uid="lnk24" id="link_Termio_PTY"><path codeLine="111" d="M483.9737,1777.4568 C480.755,1787.7381 481.5625,1786.1944 479.1667,1796.2778 C473.5729,1819.8715 469.6146,1845.8507 466.8229,1869.8715" fill="none" id="Termio-backto-PTY" style="stroke:#2FA4E7;stroke-width:3.125;"/><polygon fill="#2FA4E7" points="487.7083,1765.5278,481.8647,1770.2474,483.9737,1777.4568,489.8174,1772.7372,487.7083,1765.5278" style="stroke:#2FA4E7;stroke-width:3.125;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="32.2388" x="485.4167" y="1822.9074">owns</text></g><!--SRC=[VLTRJnj757xthvZIXzY0GO5KYbOHA9UcHG8HXLHLb4PeRGzunNfdkpiEfLKaA0MSn0HQI229Gm2b2aqQ4fAMcq7ybyexna_v2pspixkUDKii1DwTS_dcNBvp-89cSGwZDBRoEbQD6DMeZj4tMM9JEeO6i6rhnBXCBCnMjjdARoY9hcLL6wEpoKxaRAxKdap1x-h3zzNxssnymYbCivNvMCnKqoFgC4PD5qqJzQfZs6f2lyGGVDAwQjk8lnRF_9D4TjuQKjFOLj15orB7UZMRnWV4kuGi9k0CvbG3h5kAZwzFF0UIBIXjOPLYpqHSfLHDPmSfwKv8CZbLqrFa9mNrYI_kqLttjmGrx2ACMXm1wczLEzkdcd53pU5abwVIOmmH6NqQedYQB8zm0ftvhpJbnrTID8bcK6p1jSswkacjP1Ut8Lzf6DD-wx9xTsxHzP5Gv3H6-sX15Xw6e6FB4tKrM_syj2BD7hHmZj2GDniRcHl4rnYoIAuLKTAASl06WYMBQhQ4uMj3JUau4mTaAKBqav3knkvADUHfYZf2yNhzrIOteE14_IMQq9Uzsd2MtiIwJaP3rIPVNywVbe7GK4ipXbq8qWaPDR1bPpLpC4SoM47z_dCVFCfuEoKbY5vECrGT8ZMaeEvcrHWZflfZ7f-ML-ubC-YhWSeDxoieF5tzj3ldEu5EUrhPkrSvd6QbrvN3e-hYXcH6L3TOYkgYEef4uoK1vc2Qv0qAyfJaj7GytzbnGWeody72GP0k0OwjpZX7IyxRPQUqmQ4jhR971RPIYWg9RQYcdINWgllMxJJq34Nvys3fUH71bKGAmtNin-8giIuHooAZa2PUCTtD9wB47k-nZu_gG4glZzzFoZ5gyMBayS7t6itwHhZ928jWOlsD9zuGS9zSU4ra0ZF4f3QOkaEqZBXMfVmm2WXLHx2l55HLt8_Jvor8t6H0AoABrpiYGtA11wu4EGjQLeAtKY4go7cnNrqRhvONWDYTpI8hpDVbvFhhK485M7is7H85g5wTWjpKnzhYfdF_nV7aOVLWttcv5SW5NsfBcxNrPKKg4oWTFoO2C2jELFQcdEBZQ25d6gREdbEOORFh9ngXKfvYp_vXZz-puapjZu9qNjcTTGwtd8LPjlk1lLWGLjnp838tf67U4UdtUKUm3LlSS-QMETlqMwenZCD4usc4I8OeoCLDq9bAUPOz-9ELxlaNYPXjd9HkTNRSpf-FEEGZv5HgwNJUBh7DVqCTRcIm1PF3fb2m2hhkFG_mHwaeJOi0RTZNSHfhTt2cJ_2tn-WvUxY15FnsgdD_8kYSqwBVWWIBN0MRqLgxKzM_zXkqt3uGTQJ0RJH3evggQp-B5YBnHBIaFQhHjDJYqPCz58rGpkgKB5439A-wkEMbMAGnD3-vCSuilIGz4hYKwwcdlJyympgGCrTa6slEmLmmlYxf-N1DURKJ1SyRJZx4njdK4Kd4b5Y0Ha5vWy_KI77-SMTJtNReBENoCJzkZYXaauv1YLwxSLDclLFOLYggKrCTzzq5a_BpMIUNFFbuMFv4_WCSePqEo1qRi1UuVyC7HDTJa4ptqFikhtTvooQmarvs_qgN7xKqYkCPbQeDgzg0DnHvLFplqL0XcY6KGn3xgvgEhs20fPbKyWT0ifgU6JGvaLmJZTrpHTxQJ7NKYDjPs9CIeG9MnKOsHh5z0htxLYhgC_uKuOnV_LX6SUTmmRatA-Wx4UCBVdCosR0zAxoix5Z3IitbcemcUOefg8bB_c3usnuVN8ccM4nUvThQke8SWWAiCz3D1jmN4KCVg-k2dgn6V7UYaq6JMf19xcmKgoDyBN8zULpEqOaUh8E28UZFWP1SY56yothz6vWHOCEta-r9yf1rpqZCdVSfGc5FWoHSI7MT_D-BZPTXb2iNsbDTCRTuU6ixEn_4PEVZDYc7M1x-xfbm732IcFYn-bnj5mJk_7vOAR_yhiSzOTi5Dl7kUESTC2ChxJk5RSyrjALO1KHp-enthbOQPrk_9ZYQisqeFFITepVLgLVjR6BTUJaB0XsU03a-cZzUAxAbxThCh5Duxhnw83Q3pZRaJV8dC9ft-D3nCPnhuz6hRgvLvwUF3_-klYh3ow_Q_7zPm_i3_B3LNUTeihwPDAmIbVrfUGIBAVNfe0YIi1E5rnAO4vMZvto3WNLZRldJmKGiM2_-1m00]--></g></svg>