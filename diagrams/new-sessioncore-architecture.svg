<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="1651.0417px" preserveAspectRatio="none" style="width:1889px;height:1651px;" version="1.1" viewBox="0 0 1889 1651" width="1889.5833px" zoomAndPan="magnify"><title>&#26032;SessionCore&#26550;&#26500; - &#23398;&#20064;tmux&#30340;&#25152;&#26377;&#26435;&#27169;&#24335;</title><defs><linearGradient id="g5ozmhsu7p3wu0" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#EDF0F2"/><stop offset="100%" stop-color="#E9ECEF"/></linearGradient><linearGradient id="g5ozmhsu7p3wu1" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#59B6EC"/><stop offset="100%" stop-color="#2FA4E7"/></linearGradient><linearGradient id="g5ozmhsu7p3wu2" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#2FA4E7"/><stop offset="100%" stop-color="#2683B9"/></linearGradient><linearGradient id="g5ozmhsu7p3wu3" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#35638F"/><stop offset="100%" stop-color="#033C73"/></linearGradient></defs><g><g class="title" data-source-line="2"><rect fill="url(#g5ozmhsu7p3wu0)" height="48.2361" rx="4.1667" ry="4.1667" style="stroke:#BABDBF;stroke-width:1.0417;" width="479.8258" x="700.3822" y="20.8333"/><text fill="#2FA4E7" font-family="Verdana" font-size="20.8333" font-weight="bold" lengthAdjust="spacing" textLength="456.9092" x="711.8405" y="53.2369">&#26032;SessionCore&#26550;&#26500; - &#23398;&#20064;tmux&#30340;&#25152;&#26377;&#26435;&#27169;&#24335;</text></g><!--cluster App Layer (??tmux server)--><g class="cluster" data-entity="App Layer ...tmux server." data-source-line="4" data-uid="ent0002" id="cluster_App Layer ...tmux server."><path d="M20.8333,86.7778 L227.476,86.7778 A6.25,6.25 0 0 1 231.6427,90.9444 L238.9343,118.6361 L412.5,118.6361 A4.1667,4.1667 0 0 1 416.6667,122.8027 L416.6667,646.6528 A4.1667,4.1667 0 0 1 412.5,650.8194 L20.8333,650.8194 A4.1667,4.1667 0 0 1 16.6667,646.6528 L16.6667,90.9444 A4.1667,4.1667 0 0 1 20.8333,86.7778" fill="none" style="stroke:#59B6EC;stroke-width:2.0833;"/><line style="stroke:#59B6EC;stroke-width:2.0833;" x1="16.6667" x2="238.9343" y1="118.6361" y2="118.6361"/><text fill="#2FA4E7" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="198.3093" x="26.0417" y="106.6366">App Layer (&#31867;&#20284;tmux server)</text></g><!--cluster SessionCore Layer (??tmux session - ????)--><g class="cluster" data-entity="SessionCore Layer ...tmux session - ....." data-source-line="22" data-uid="ent0005" id="cluster_SessionCore Layer ...tmux session - ....."><path d="M253.125,747.7465 L590.7796,747.7465 A6.25,6.25 0 0 1 594.9463,751.9132 L602.238,779.6048 L629.1667,779.6048 A4.1667,4.1667 0 0 1 633.3333,783.7715 L633.3333,1508.6632 A4.1667,4.1667 0 0 1 629.1667,1512.8298 L253.125,1512.8298 A4.1667,4.1667 0 0 1 248.9583,1508.6632 L248.9583,751.9132 A4.1667,4.1667 0 0 1 253.125,747.7465" fill="#90EE90" style="stroke:#59B6EC;stroke-width:2.0833;"/><line style="stroke:#59B6EC;stroke-width:2.0833;" x1="248.9583" x2="602.238" y1="779.6048" y2="779.6048"/><text fill="#2FA4E7" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="329.3213" x="258.3333" y="767.6053">SessionCore Layer (&#31867;&#20284;tmux session - &#25345;&#20037;&#23454;&#20307;)</text></g><!--cluster Surface Layer (??tmux client - ?????)--><g class="cluster" data-entity="Surface Layer ...tmux client - ......" data-source-line="60" data-uid="ent0009" id="cluster_Surface Layer ...tmux client - ......"><path d="M445.8333,379.7048 L749.8515,379.7048 A6.25,6.25 0 0 1 754.0181,383.8715 L761.3098,411.5632 L1193.75,411.5632 A4.1667,4.1667 0 0 1 1197.9167,415.7298 L1197.9167,683.1632 A4.1667,4.1667 0 0 1 1193.75,687.3298 L445.8333,687.3298 A4.1667,4.1667 0 0 1 441.6667,683.1632 L441.6667,383.8715 A4.1667,4.1667 0 0 1 445.8333,379.7048" fill="#ADD8E6" style="stroke:#59B6EC;stroke-width:2.0833;"/><line style="stroke:#59B6EC;stroke-width:2.0833;" x1="441.6667" x2="761.3098" y1="411.5632" y2="411.5632"/><text fill="#2FA4E7" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="295.6848" x="451.0417" y="399.5636">Surface Layer (&#31867;&#20284;tmux client - &#20020;&#26102;&#26597;&#30475;&#22120;)</text></g><!--class App--><g class="entity" data-entity="App" data-source-line="5" data-uid="ent0003" id="entity_App"><rect fill="url(#g5ozmhsu7p3wu1)" height="173.1374" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="316.007" x="83.6667" y="131.5694"/><rect fill="url(#g5ozmhsu7p3wu2)" height="34.759" rx="4.1667" ry="4.1667" style="stroke:url(#g5ozmhsu7p3wu2);stroke-width:1.0417;" width="316.007" x="83.6667" y="131.5694"/><rect fill="url(#g5ozmhsu7p3wu2)" height="4.1667" style="stroke:url(#g5ozmhsu7p3wu2);stroke-width:1.0417;" width="316.007" x="83.6667" y="162.1618"/><rect fill="none" height="173.1374" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="316.007" x="83.6667" y="131.5694"/><ellipse cx="221.2397" cy="148.9489" fill="#EDF0F2" rx="10.4167" ry="10.4167" style="stroke:#BABDBF;stroke-width:1.0417;"/><path d="M223.1501,153.374 Q222.7228,153.5937 222.2528,153.7036 Q221.7829,153.8134 221.2641,153.8134 Q219.4208,153.8134 218.4503,152.5988 Q217.4799,151.3842 217.4799,149.0893 Q217.4799,146.7883 218.4503,145.5737 Q219.4208,144.3591 221.2641,144.3591 Q221.7829,144.3591 222.2589,144.4689 Q222.735,144.5788 223.1501,144.7985 L223.1501,146.8005 Q222.6862,146.3732 222.2498,146.1749 Q221.8134,145.9765 221.3495,145.9765 Q220.3607,145.9765 219.8572,146.7608 Q219.3537,147.5451 219.3537,149.0893 Q219.3537,150.6274 219.8572,151.4117 Q220.3607,152.196 221.3495,152.196 Q221.8134,152.196 222.2498,151.9976 Q222.6862,151.7993 223.1501,151.372 Z " fill="#FFFFFF"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="22.111" x="246.2397" y="153.506">App</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="84.7083" x2="398.632" y1="166.3284" y2="166.3284"/><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="92" y="181.1038"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="203.0889" x="108.6667" y="187.2233">session_manager: SessionManager</text><ellipse cx="95.125" cy="208.5711" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="98.1232" x="108.6667" y="211.5657">mailbox: Mailbox</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="84.7083" x2="398.632" y1="223.3465" y2="223.3465"/><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="92" y="238.1218"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="162.3861" x="108.6667" y="244.2413">surfaces: ArrayList(Surface)</text><ellipse cx="95.125" cy="265.5891" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="89.9938" x="108.6667" y="268.5837">createSurface()</text><ellipse cx="95.125" cy="289.9315" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="279.5486" x="108.6667" y="292.926">attachSurfaceToSession(surface, session_name)</text></g><!--class SessionManager--><g class="entity" data-entity="SessionManager" data-source-line="13" data-uid="ent0004" id="entity_SessionManager"><rect fill="url(#g5ozmhsu7p3wu1)" height="173.1374" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="367.3401" x="33" y="461.0173"/><rect fill="url(#g5ozmhsu7p3wu2)" height="34.759" rx="4.1667" ry="4.1667" style="stroke:url(#g5ozmhsu7p3wu2);stroke-width:1.0417;" width="367.3401" x="33" y="461.0173"/><rect fill="url(#g5ozmhsu7p3wu2)" height="4.1667" style="stroke:url(#g5ozmhsu7p3wu2);stroke-width:1.0417;" width="367.3401" x="33" y="491.6097"/><rect fill="none" height="173.1374" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="367.3401" x="33" y="461.0173"/><ellipse cx="160.5581" cy="478.3968" fill="#EDF0F2" rx="10.4167" ry="10.4167" style="stroke:#BABDBF;stroke-width:1.0417;"/><path d="M162.4685,482.8219 Q162.0413,483.0416 161.5713,483.1515 Q161.1013,483.2613 160.5826,483.2613 Q158.7393,483.2613 157.7688,482.0467 Q156.7984,480.8321 156.7984,478.5372 Q156.7984,476.2362 157.7688,475.0216 Q158.7393,473.807 160.5826,473.807 Q161.1013,473.807 161.5774,473.9169 Q162.0535,474.0267 162.4685,474.2464 L162.4685,476.2484 Q162.0047,475.8212 161.5683,475.6228 Q161.1319,475.4244 160.668,475.4244 Q159.6792,475.4244 159.1757,476.2087 Q158.6721,476.993 158.6721,478.5372 Q158.6721,480.0753 159.1757,480.8596 Q159.6792,481.6439 160.668,481.6439 Q161.1319,481.6439 161.5683,481.4455 Q162.0047,481.2472 162.4685,480.8199 Z " fill="#FFFFFF"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="93.4738" x="185.5581" y="482.9539">SessionManager</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="34.0417" x2="399.2984" y1="495.7763" y2="495.7763"/><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="34.0417" x2="399.2984" y1="504.1097" y2="504.1097"/><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="41.3333" y="518.885"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="244.6701" x="58" y="525.0046">sessions: HashMap(name-&gt;SessionCore*)</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="41.3333" y="543.2274"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="330.8818" x="58" y="549.3469">surface_sessions: HashMap(surface_ptr-&gt;session_name)</text><ellipse cx="44.4583" cy="570.6947" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="243.9204" x="58" y="573.6892">getOrCreateSession(name): SessionCore*</text><ellipse cx="44.4583" cy="595.0371" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="221.5856" x="58" y="598.0316">attachSurface(surface, session_name)</text><ellipse cx="44.4583" cy="619.3794" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="134.4844" x="58" y="622.3739">detachSurface(surface)</text></g><!--class SessionCore--><g class="entity" data-entity="SessionCore" data-source-line="23" data-uid="ent0006" id="entity_SessionCore"><rect fill="url(#g5ozmhsu7p3wu1)" height="367.8762" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="283.9986" x="329.875" y="792.5382"/><rect fill="url(#g5ozmhsu7p3wu2)" height="34.759" rx="4.1667" ry="4.1667" style="stroke:url(#g5ozmhsu7p3wu2);stroke-width:1.0417;" width="283.9986" x="329.875" y="792.5382"/><rect fill="url(#g5ozmhsu7p3wu2)" height="4.1667" style="stroke:url(#g5ozmhsu7p3wu2);stroke-width:1.0417;" width="283.9986" x="329.875" y="823.1305"/><rect fill="none" height="367.8762" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="283.9986" x="329.875" y="792.5382"/><ellipse cx="427.19" cy="809.9177" fill="#EDF0F2" rx="10.4167" ry="10.4167" style="stroke:#BABDBF;stroke-width:1.0417;"/><path d="M429.1004,814.3427 Q428.6731,814.5624 428.2031,814.6723 Q427.7332,814.7822 427.2144,814.7822 Q425.3711,814.7822 424.4007,813.5676 Q423.4302,812.353 423.4302,810.0581 Q423.4302,807.757 424.4007,806.5424 Q425.3711,805.3278 427.2144,805.3278 Q427.7332,805.3278 428.2092,805.4377 Q428.6853,805.5476 429.1004,805.7673 L429.1004,807.7692 Q428.6365,807.342 428.2001,807.1436 Q427.7637,806.9453 427.2998,806.9453 Q426.3111,806.9453 425.8075,807.7296 Q425.304,808.5139 425.304,810.0581 Q425.304,811.5961 425.8075,812.3804 Q426.3111,813.1647 427.2998,813.1647 Q427.7637,813.1647 428.2001,812.9664 Q428.6365,812.768 429.1004,812.3408 Z " fill="#FFFFFF"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="70.6187" x="452.19" y="814.4747">SessionCore</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="330.9167" x2="612.8319" y1="827.2972" y2="827.2972"/><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="338.2083" y="842.0725"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="54.2872" x="354.875" y="848.1921">id: String</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="338.2083" y="866.4149"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="170.7336" x="354.875" y="872.5344">owned_terminal: Terminal</text><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="72.7783" x="529.637" y="872.5344">&#11013;&#65039; &#30495;&#27491;&#25317;&#26377;</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="338.2083" y="890.7572"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="104.8874" x="354.875" y="896.8767">owned_pty: PTY</text><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="72.7783" x="463.7907" y="896.8767">&#11013;&#65039; &#30495;&#27491;&#25317;&#26377;</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="338.2083" y="915.0996"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="146.5022" x="354.875" y="921.2191">shell_process: Process</text><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="72.7783" x="505.4055" y="921.2191">&#11013;&#65039; &#30495;&#27491;&#25317;&#26377;</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="338.2083" y="939.4419"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="102.9068" x="354.875" y="945.5614">created_time: i64</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="338.2083" y="963.7843"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="137.6343" x="354.875" y="969.9038">last_attached_time: i64</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="338.2083" y="988.1266"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="102.3697" x="354.875" y="994.2461">is_detached: bool</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="330.9167" x2="612.8319" y1="1006.0269" y2="1006.0269"/><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="338.2083" y="1020.8023"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="226.9343" x="354.875" y="1026.9218">attached_surfaces: ArrayList(Surface*)</text><ellipse cx="341.3333" cy="1048.2696" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="219.5826" x="354.875" y="1051.2642">createOwnedTerminal(cols, rows)</text><ellipse cx="341.3333" cy="1072.612" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="228.2043" x="354.875" y="1075.6065">getTerminalForViewing(): Terminal</text><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="7.2845" x="583.0793" y="1075.6065">*</text><ellipse cx="341.3333" cy="1096.9543" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="145.4112" x="354.875" y="1099.9489">attachViewer(surface)</text><ellipse cx="341.3333" cy="1121.2967" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="148.1583" x="354.875" y="1124.2912">detachViewer(surface)</text><ellipse cx="341.3333" cy="1145.639" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="110.4711" x="354.875" y="1148.6335">writeInput(data)</text><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="128.1733" x="469.3744" y="1148.6335">&#11013;&#65039; &#30452;&#25509;&#20889;&#20837;&#33258;&#24049;&#30340;PTY</text></g><!--class Terminal--><g class="entity" data-entity="Terminal" data-source-line="39" data-uid="ent0007" id="entity_Terminal"><rect fill="url(#g5ozmhsu7p3wu1)" height="246.1644" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="161.2411" x="455.8333" y="1249.9965"/><rect fill="url(#g5ozmhsu7p3wu2)" height="34.759" rx="4.1667" ry="4.1667" style="stroke:url(#g5ozmhsu7p3wu2);stroke-width:1.0417;" width="161.2411" x="455.8333" y="1249.9965"/><rect fill="url(#g5ozmhsu7p3wu2)" height="4.1667" style="stroke:url(#g5ozmhsu7p3wu2);stroke-width:1.0417;" width="161.2411" x="455.8333" y="1280.5888"/><rect fill="none" height="246.1644" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="161.2411" x="455.8333" y="1249.9965"/><ellipse cx="501.9075" cy="1267.376" fill="#EDF0F2" rx="10.4167" ry="10.4167" style="stroke:#BABDBF;stroke-width:1.0417;"/><path d="M503.8179,1271.8011 Q503.3907,1272.0208 502.9207,1272.1306 Q502.4507,1272.2405 501.9319,1272.2405 Q500.0887,1272.2405 499.1182,1271.0259 Q498.1477,1269.8113 498.1477,1267.5164 Q498.1477,1265.2154 499.1182,1264.0008 Q500.0887,1262.7862 501.9319,1262.7862 Q502.4507,1262.7862 502.9268,1262.896 Q503.4029,1263.0059 503.8179,1263.2256 L503.8179,1265.2276 Q503.354,1264.8003 502.9176,1264.602 Q502.4812,1264.4036 502.0174,1264.4036 Q501.0286,1264.4036 500.5251,1265.1879 Q500.0215,1265.9722 500.0215,1267.5164 Q500.0215,1269.0545 500.5251,1269.8388 Q501.0286,1270.6231 502.0174,1270.6231 Q502.4812,1270.6231 502.9176,1270.4247 Q503.354,1270.2263 503.8179,1269.7991 Z " fill="#FFFFFF"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="50.3428" x="526.9075" y="1271.933">Terminal</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="456.875" x2="616.0328" y1="1284.7555" y2="1284.7555"/><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="464.1667" y="1299.5309"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="86.5585" x="480.8333" y="1305.6504">screen: Screen</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="464.1667" y="1323.8732"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="124.7828" x="480.8333" y="1329.9927">scrollback: Scrollback</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="464.1667" y="1348.2155"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="83.1121" x="480.8333" y="1354.3351">cursor: Cursor</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="464.1667" y="1372.5579"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="83.8114" x="480.8333" y="1378.6774">modes: Modes</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="456.875" x2="616.0328" y1="1390.4582" y2="1390.4582"/><ellipse cx="467.2917" cy="1408.3586" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="64.5762" x="480.8333" y="1411.3531">write(data)</text><ellipse cx="467.2917" cy="1432.7009" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="80.1468" x="480.8333" y="1435.6955">read(): String</text><ellipse cx="467.2917" cy="1457.0433" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="120.2789" x="480.8333" y="1460.0378">serialize(): Snapshot</text><ellipse cx="467.2917" cy="1481.3856" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="123.1491" x="480.8333" y="1484.3801">deserialize(snapshot)</text></g><!--class PTY--><g class="entity" data-entity="PTY" data-source-line="50" data-uid="ent0008" id="entity_PTY"><rect fill="url(#g5ozmhsu7p3wu1)" height="197.4798" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="154.186" x="265.6146" y="1274.3403"/><rect fill="url(#g5ozmhsu7p3wu2)" height="34.759" rx="4.1667" ry="4.1667" style="stroke:url(#g5ozmhsu7p3wu2);stroke-width:1.0417;" width="154.186" x="265.6146" y="1274.3403"/><rect fill="url(#g5ozmhsu7p3wu2)" height="4.1667" style="stroke:url(#g5ozmhsu7p3wu2);stroke-width:1.0417;" width="154.186" x="265.6146" y="1304.9326"/><rect fill="none" height="197.4798" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="154.186" x="265.6146" y="1274.3403"/><ellipse cx="322.8226" cy="1291.7198" fill="#EDF0F2" rx="10.4167" ry="10.4167" style="stroke:#BABDBF;stroke-width:1.0417;"/><path d="M324.733,1296.1448 Q324.3057,1296.3645 323.8358,1296.4744 Q323.3658,1296.5843 322.847,1296.5843 Q321.0037,1296.5843 320.0333,1295.3697 Q319.0628,1294.1551 319.0628,1291.8601 Q319.0628,1289.5591 320.0333,1288.3445 Q321.0037,1287.1299 322.847,1287.1299 Q323.3658,1287.1299 323.8419,1287.2398 Q324.3179,1287.3496 324.733,1287.5694 L324.733,1289.5713 Q324.2691,1289.1441 323.8327,1288.9457 Q323.3963,1288.7473 322.9324,1288.7473 Q321.9437,1288.7473 321.4401,1289.5316 Q320.9366,1290.3159 320.9366,1291.8601 Q320.9366,1293.3982 321.4401,1294.1825 Q321.9437,1294.9668 322.9324,1294.9668 Q323.3963,1294.9668 323.8327,1294.7685 Q324.2691,1294.5701 324.733,1294.1429 Z " fill="#FFFFFF"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="21.02" x="347.8226" y="1296.2768">PTY</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="266.6563" x2="418.7589" y1="1309.0993" y2="1309.0993"/><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="273.9479" y="1323.8746"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="99.2254" x="290.6146" y="1329.9941">fd: FileDescriptor</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="273.9479" y="1348.2169"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="117.7277" x="290.6146" y="1354.3365">child_pid: ProcessID</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="266.6563" x2="418.7589" y1="1366.1173" y2="1366.1173"/><ellipse cx="277.0729" cy="1384.0176" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="104.0426" x="290.6146" y="1387.0122">spawn(shell, cwd)</text><ellipse cx="277.0729" cy="1408.36" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="76.6052" x="290.6146" y="1411.3545">read(): bytes</text><ellipse cx="277.0729" cy="1432.7023" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="70.3893" x="290.6146" y="1435.6969">write(bytes)</text><ellipse cx="277.0729" cy="1457.0447" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="101.5081" x="290.6146" y="1460.0392">resize(cols, rows)</text></g><!--class Surface--><g class="entity" data-entity="Surface" data-source-line="61" data-uid="ent0010" id="entity_Surface"><rect fill="url(#g5ozmhsu7p3wu1)" height="246.1644" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="336.6186" x="458.7708" y="424.4965"/><rect fill="url(#g5ozmhsu7p3wu2)" height="34.759" rx="4.1667" ry="4.1667" style="stroke:url(#g5ozmhsu7p3wu2);stroke-width:1.0417;" width="336.6186" x="458.7708" y="424.4965"/><rect fill="url(#g5ozmhsu7p3wu2)" height="4.1667" style="stroke:url(#g5ozmhsu7p3wu2);stroke-width:1.0417;" width="336.6186" x="458.7708" y="455.0888"/><rect fill="none" height="246.1644" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="336.6186" x="458.7708" y="424.4965"/><ellipse cx="595.8655" cy="441.876" fill="#EDF0F2" rx="10.4167" ry="10.4167" style="stroke:#BABDBF;stroke-width:1.0417;"/><path d="M597.7759,446.3011 Q597.3486,446.5208 596.8786,446.6306 Q596.4087,446.7405 595.8899,446.7405 Q594.0466,446.7405 593.0762,445.5259 Q592.1057,444.3113 592.1057,442.0164 Q592.1057,439.7154 593.0762,438.5008 Q594.0466,437.2862 595.8899,437.2862 Q596.4087,437.2862 596.8847,437.396 Q597.3608,437.5059 597.7759,437.7256 L597.7759,439.7276 Q597.312,439.3003 596.8756,439.102 Q596.4392,438.9036 595.9753,438.9036 Q594.9866,438.9036 594.483,439.6879 Q593.9795,440.4722 593.9795,442.0164 Q593.9795,443.5545 594.483,444.3388 Q594.9866,445.1231 595.9753,445.1231 Q596.4392,445.1231 596.8756,444.9247 Q597.312,444.7263 597.7759,444.2991 Z " fill="#FFFFFF"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="43.6793" x="620.8655" y="446.433">Surface</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="459.8125" x2="794.3477" y1="459.2555" y2="459.2555"/><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="467.1042" y="474.0309"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="177.9455" x="483.7708" y="480.1504">renderer_state: RendererState</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="467.1042" y="498.3732"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="80.2363" x="483.7708" y="504.4927">config: Config</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="467.1042" y="522.7155"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="57.2861" x="483.7708" y="528.8351">font: Font</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="467.1042" y="547.0579"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="138.8316" x="483.7708" y="553.1774">&#19981;&#20877;&#25317;&#26377;Terminal&#25110;PTY</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="459.8125" x2="794.3477" y1="564.9582" y2="564.9582"/><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="467.1042" y="579.7336"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="171.2875" x="483.7708" y="585.8531">session_core: SessionCore</text><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="128.8727" x="655.0584" y="585.8531">* &#11013;&#65039; &#26597;&#30475;&#30446;&#26631;(&#21487;&#20999;&#25442;)</text><ellipse cx="470.2292" cy="607.2009" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="202.0818" x="483.7708" y="610.1955">attachToSession(session_core)</text><ellipse cx="470.2292" cy="631.5433" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="55.2383" x="483.7708" y="634.5378">render()</text><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="158.2458" x="543.0375" y="634.5378">&#11013;&#65039; &#28210;&#26579;session_core&#30340;&#20869;&#23481;</text><ellipse cx="470.2292" cy="655.8856" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="111.8362" x="483.7708" y="658.8801">keyCallback(key)</text><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="135.3292" x="599.6354" y="658.8801">&#11013;&#65039; &#36716;&#21457;&#21040;session_core</text></g><!--class RendererState--><g class="entity" data-entity="RendererState" data-source-line="72" data-uid="ent0011" id="entity_RendererState"><rect fill="url(#g5ozmhsu7p3wu1)" height="148.7951" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="349.7665" x="831.3646" y="473.184"/><rect fill="url(#g5ozmhsu7p3wu2)" height="34.759" rx="4.1667" ry="4.1667" style="stroke:url(#g5ozmhsu7p3wu2);stroke-width:1.0417;" width="349.7665" x="831.3646" y="473.184"/><rect fill="url(#g5ozmhsu7p3wu2)" height="4.1667" style="stroke:url(#g5ozmhsu7p3wu2);stroke-width:1.0417;" width="349.7665" x="831.3646" y="503.7763"/><rect fill="none" height="148.7951" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="349.7665" x="831.3646" y="473.184"/><ellipse cx="955.2804" cy="490.5635" fill="#EDF0F2" rx="10.4167" ry="10.4167" style="stroke:#BABDBF;stroke-width:1.0417;"/><path d="M957.1908,494.9886 Q956.7636,495.2083 956.2936,495.3181 Q955.8237,495.428 955.3049,495.428 Q953.4616,495.428 952.4911,494.2134 Q951.5207,492.9988 951.5207,490.7039 Q951.5207,488.4029 952.4911,487.1883 Q953.4616,485.9737 955.3049,485.9737 Q955.8237,485.9737 956.2997,486.0835 Q956.7758,486.1934 957.1908,486.4131 L957.1908,488.4151 Q956.727,487.9878 956.2906,487.7895 Q955.8542,487.5911 955.3903,487.5911 Q954.4015,487.5911 953.898,488.3754 Q953.3945,489.1597 953.3945,490.7039 Q953.3945,492.242 953.898,493.0263 Q954.4015,493.8106 955.3903,493.8106 Q955.8542,493.8106 956.2906,493.6122 Q956.727,493.4138 957.1908,492.9866 Z " fill="#FFFFFF"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="83.1848" x="980.2804" y="495.1205">RendererState</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="832.4063" x2="1180.0895" y1="507.943" y2="507.943"/><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="839.6979" y="522.7184"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="119.7138" x="856.3646" y="528.8379">terminal: Terminal</text><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="193.5944" x="976.0784" y="528.8379">* &#11013;&#65039; &#25351;&#21521;SessionCore&#30340;Terminal</text><rect fill="none" height="6.25" style="stroke:#2683B9;stroke-width:1.0417;" width="6.25" x="839.6979" y="547.0607"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="80.779" x="856.3646" y="553.1802">mutex: Mutex</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="832.4063" x2="1180.0895" y1="564.961" y2="564.961"/><ellipse cx="842.8229" cy="582.8614" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="200.8453" x="856.3646" y="585.8559">switchTerminal(new_terminal)</text><ellipse cx="842.8229" cy="607.2037" fill="none" rx="3.125" ry="3.125" style="stroke:#2683B9;stroke-width:1.0417;"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="117.8116" x="856.3646" y="610.1983">forceFullRedraw()</text></g><!--class screen+scrollback--><g class="entity" data-entity="screen.scrollback" data-source-line="85" data-uid="ent0016" id="entity_screen.scrollback"><rect fill="url(#g5ozmhsu7p3wu1)" height="51.4257" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="145.6197" x="463.6458" y="1587.8298"/><rect fill="url(#g5ozmhsu7p3wu2)" height="34.759" rx="4.1667" ry="4.1667" style="stroke:url(#g5ozmhsu7p3wu2);stroke-width:1.0417;" width="145.6197" x="463.6458" y="1587.8298"/><rect fill="url(#g5ozmhsu7p3wu2)" height="4.1667" style="stroke:url(#g5ozmhsu7p3wu2);stroke-width:1.0417;" width="145.6197" x="463.6458" y="1618.4222"/><rect fill="none" height="51.4257" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="145.6197" x="463.6458" y="1587.8298"/><ellipse cx="478.2292" cy="1605.2093" fill="#EDF0F2" rx="10.4167" ry="10.4167" style="stroke:#BABDBF;stroke-width:1.0417;"/><path d="M480.1396,1609.6344 Q479.7123,1609.8541 479.2424,1609.964 Q478.7724,1610.0738 478.2536,1610.0738 Q476.4103,1610.0738 475.4399,1608.8592 Q474.4694,1607.6446 474.4694,1605.3497 Q474.4694,1603.0487 475.4399,1601.8341 Q476.4103,1600.6195 478.2536,1600.6195 Q478.7724,1600.6195 479.2485,1600.7294 Q479.7245,1600.8392 480.1396,1601.0589 L480.1396,1603.0609 Q479.6757,1602.6337 479.2393,1602.4353 Q478.8029,1602.2369 478.339,1602.2369 Q477.3503,1602.2369 476.8467,1603.0212 Q476.3432,1603.8055 476.3432,1605.3497 Q476.3432,1606.8878 476.8467,1607.6721 Q477.3503,1608.4564 478.339,1608.4564 Q478.8029,1608.4564 479.2393,1608.258 Q479.6757,1608.0597 480.1396,1607.6324 Z " fill="#FFFFFF"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="103.953" x="496.9792" y="1609.7664">screen+scrollback</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="464.6875" x2="608.2239" y1="1622.5888" y2="1622.5888"/><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="464.6875" x2="608.2239" y1="1630.9222" y2="1630.9222"/></g><!--class Shell Process--><g class="entity" data-entity="Shell Process" data-source-line="93" data-uid="ent0021" id="entity_Shell Process"><rect fill="url(#g5ozmhsu7p3wu1)" height="51.4257" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="117.3823" x="284.0208" y="1587.8298"/><rect fill="url(#g5ozmhsu7p3wu2)" height="34.759" rx="4.1667" ry="4.1667" style="stroke:url(#g5ozmhsu7p3wu2);stroke-width:1.0417;" width="117.3823" x="284.0208" y="1587.8298"/><rect fill="url(#g5ozmhsu7p3wu2)" height="4.1667" style="stroke:url(#g5ozmhsu7p3wu2);stroke-width:1.0417;" width="117.3823" x="284.0208" y="1618.4222"/><rect fill="none" height="51.4257" rx="4.1667" ry="4.1667" style="stroke:#2FA4E7;stroke-width:1.0417;" width="117.3823" x="284.0208" y="1587.8298"/><ellipse cx="298.6042" cy="1605.2093" fill="#EDF0F2" rx="10.4167" ry="10.4167" style="stroke:#BABDBF;stroke-width:1.0417;"/><path d="M300.5146,1609.6344 Q300.0873,1609.8541 299.6174,1609.964 Q299.1474,1610.0738 298.6286,1610.0738 Q296.7853,1610.0738 295.8149,1608.8592 Q294.8444,1607.6446 294.8444,1605.3497 Q294.8444,1603.0487 295.8149,1601.8341 Q296.7853,1600.6195 298.6286,1600.6195 Q299.1474,1600.6195 299.6235,1600.7294 Q300.0995,1600.8392 300.5146,1601.0589 L300.5146,1603.0609 Q300.0507,1602.6337 299.6143,1602.4353 Q299.1779,1602.2369 298.714,1602.2369 Q297.7253,1602.2369 297.2217,1603.0212 Q296.7182,1603.8055 296.7182,1605.3497 Q296.7182,1606.8878 297.2217,1607.6721 Q297.7253,1608.4564 298.714,1608.4564 Q299.1779,1608.4564 299.6143,1608.258 Q300.0507,1608.0597 300.5146,1607.6324 Z " fill="#FFFFFF"/><text fill="#F8F9FA" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="75.7156" x="317.3542" y="1609.7664">Shell Process</text><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="285.0625" x2="400.3615" y1="1622.5888" y2="1622.5888"/><line style="stroke:#2FA4E7;stroke-width:1.0417;" x1="285.0625" x2="400.3615" y1="1630.9222" y2="1630.9222"/></g><g class="entity" data-entity="GMN23" data-source-line="96" data-uid="ent0024" id="entity_GMN23"><path d="M650.0313,901.8611 L650.0313,972.309 L614.2813,976.4757 L650.0313,980.6423 L650.0313,1051.0859 A4.1667,4.1667 0 0 0 654.1979,1055.2526 L929.1369,1055.2526 A4.1667,4.1667 0 0 0 933.3035,1051.0859 L933.3035,908.1111 L922.8869,897.6944 L654.1979,897.6944 A4.1667,4.1667 0 0 0 650.0313,901.8611" fill="url(#g5ozmhsu7p3wu3)" style="stroke:#033C73;stroke-width:1.0417;"/><path d="M922.8869,897.6944 L922.8869,906.0278 A2.0833,2.0833 0 0 0 924.9702,908.1111 L933.3035,908.1111 L922.8869,897.6944" fill="url(#g5ozmhsu7p3wu3)" style="stroke:#033C73;stroke-width:1.0417;"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="223.4131" x="661.4896" y="920.6782">&#26032;&#26550;&#26500;&#30340;&#26680;&#24515;&#65306;SessionCore&#25317;&#26377;&#19968;&#20999;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="4.3945" x="661.4896" y="935.8699">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="250.9806" x="661.4896" y="951.0615">&#9989; &#25317;&#26377;Terminal&#65288;&#23631;&#24149;&#20869;&#23481;&#12289;&#21382;&#21490;&#12289;&#20809;&#26631;&#65289;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="222.7214" x="661.4896" y="966.2532">&#9989; &#25317;&#26377;PTY&#65288;&#25991;&#20214;&#25551;&#36848;&#31526;&#12289;shell&#36827;&#31243;&#65289;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="201.8229" x="661.4896" y="981.4448">&#9989; &#25317;&#26377;Shell&#36827;&#31243;&#65288;&#29420;&#31435;&#29983;&#21629;&#21608;&#26399;&#65289;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="218.7113" x="661.4896" y="996.6365">&#9989; &#25345;&#20037;&#21270;&#23384;&#22312;&#65288;Surface&#20851;&#38381;&#19981;&#24433;&#21709;&#65289;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="216.6545" x="661.4896" y="1011.8281">&#9989; &#22810;Surface&#21487;&#21516;&#26102;&#26597;&#30475;&#21516;&#19968;Session</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="4.3945" x="661.4896" y="1027.0198">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="164.9597" x="661.4896" y="1042.2114">&#23601;&#20687;tmux&#30340;Session&#19968;&#26679;&#65281;</text></g><g class="entity" data-entity="GMN26" data-source-line="108" data-uid="ent0027" id="entity_GMN26"><path d="M1643.375,472.9757 L1643.375,622.2005 A4.1667,4.1667 0 0 0 1647.5417,626.3672 L1873.2985,626.3672 A4.1667,4.1667 0 0 0 1877.4652,622.2005 L1877.4652,479.2257 L1867.0485,468.809 L1647.5417,468.809 A4.1667,4.1667 0 0 0 1643.375,472.9757" fill="url(#g5ozmhsu7p3wu3)" style="stroke:#033C73;stroke-width:1.0417;"/><path d="M1867.0485,468.809 L1867.0485,477.1423 A2.0833,2.0833 0 0 0 1869.1318,479.2257 L1877.4652,479.2257 L1867.0485,468.809" fill="url(#g5ozmhsu7p3wu3)" style="stroke:#033C73;stroke-width:1.0417;"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="165.7837" x="1654.8333" y="491.7928">Surface&#30340;&#26032;&#35282;&#33394;&#65306;&#32431;&#26597;&#30475;&#22120;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="4.3945" x="1654.8333" y="506.9845">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="161.4115" x="1654.8333" y="522.1761">&#10060; &#19981;&#20877;&#25317;&#26377;Terminal&#25110;PTY</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="146.0612" x="1654.8333" y="537.3678">&#9989; &#21482;&#36127;&#36131;&#28210;&#26579;&#21644;&#29992;&#25143;&#20132;&#20114;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="201.7985" x="1654.8333" y="552.5594">&#9989; &#36890;&#36807;session_core&#25351;&#38024;&#26597;&#30475;&#20869;&#23481;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="146.0612" x="1654.8333" y="567.7511">&#9989; &#21487;&#20197;&#38543;&#26102;&#20999;&#25442;&#26597;&#30475;&#30446;&#26631;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="169.0043" x="1654.8333" y="582.9427">&#9989; &#20851;&#38381;&#19981;&#24433;&#21709;Session&#25345;&#20037;&#21270;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="4.3945" x="1654.8333" y="598.1344">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="151.6785" x="1654.8333" y="613.326">&#23601;&#20687;tmux&#30340;Client&#19968;&#26679;&#65281;</text></g><g class="entity" data-entity="GMN29" data-source-line="120" data-uid="ent0030" id="entity_GMN29"><path d="M1217.9271,495.7569 L1217.9271,599.4068 A4.1667,4.1667 0 0 0 1222.0938,603.5735 L1602.9124,603.5735 A4.1667,4.1667 0 0 0 1607.0791,599.4068 L1607.0791,502.0069 L1596.6624,491.5903 L1222.0938,491.5903 A4.1667,4.1667 0 0 0 1217.9271,495.7569" fill="url(#g5ozmhsu7p3wu3)" style="stroke:#033C73;stroke-width:1.0417;"/><path d="M1596.6624,491.5903 L1596.6624,499.9236 A2.0833,2.0833 0 0 0 1598.7458,502.0069 L1607.0791,502.0069 L1596.6624,491.5903" fill="url(#g5ozmhsu7p3wu3)" style="stroke:#033C73;stroke-width:1.0417;"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="193.0359" x="1229.3854" y="514.5741">&#26032;&#30340;attach&#27969;&#31243;&#65288;&#23398;&#20064;tmux&#65289;&#65306;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="297.229" x="1229.3854" y="529.7657">1. Surface.attachToSession(new_session_core)</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="281.0791" x="1229.3854" y="544.9574">2. surface.session_core = new_session_core</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="356.8604" x="1229.3854" y="560.149">3. renderer_state.terminal = new_session_core.terminal</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="187.0544" x="1229.3854" y="575.3407">4. renderer.forceFullRedraw()</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="124.2798" x="1229.3854" y="590.5323">5. &#23436;&#25104;&#65281;&#31616;&#21333;&#22914;tmux</text></g><!--reverse link App to SessionManager--><g class="link" data-entity-1="App" data-entity-2="SessionManager" data-source-line="81" data-uid="lnk12" id="link_App_SessionManager"><path codeLine="81" d="M234.1429,317.6582 C230.4867,365.5853 226.8958,412.6111 223.2396,460.5382" fill="none" id="App-backto-SessionManager" style="stroke:#2FA4E7;stroke-width:3.125;"/><polygon fill="#2FA4E7" points="235.0938,305.1944,230.4637,311.1094,234.1429,317.6582,238.7729,311.7433,235.0938,305.1944" style="stroke:#2FA4E7;stroke-width:3.125;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="32.2388" x="238.3958" y="354.772">owns</text></g><!--reverse link SessionManager to SessionCore--><g class="link" data-entity-1="SessionManager" data-entity-2="SessionCore" data-source-line="82" data-uid="lnk13" id="link_SessionManager_SessionCore"><path codeLine="82" d="M274.4171,645.2132 C301.5733,690.609 329.5729,737.4444 362.3646,792.2882" fill="none" id="SessionManager-backto-SessionCore" style="stroke:#2FA4E7;stroke-width:3.125;"/><polygon fill="#2FA4E7" points="268,634.4861,267.6328,641.9887,274.4171,645.2132,274.7842,637.7106,268,634.4861" style="stroke:#2FA4E7;stroke-width:3.125;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="100" x="327.6667" y="722.8136">&#30495;&#27491;&#31649;&#29702;&#25345;&#20037;&#20250;&#35805;</text><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="7.9102" x="344.5152" y="776.165">n</text></g><!--reverse link SessionCore to Terminal--><g class="link" data-entity-1="SessionCore" data-entity-2="Terminal" data-source-line="83" data-uid="lnk14" id="link_SessionCore_Terminal"><path codeLine="83" d="M503.9162,1173.2592 C508.8433,1203.3426 511.8229,1221.5173 516.4271,1249.6528" fill="none" id="SessionCore-backto-Terminal" style="stroke:#2FA4E7;stroke-width:3.125;"/><polygon fill="#2FA4E7" points="501.8958,1160.9236,498.7941,1167.7649,503.9162,1173.2592,507.0179,1166.418,501.8958,1160.9236" style="stroke:#2FA4E7;stroke-width:3.125;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="25" x="516.1979" y="1210.4803">&#25317;&#26377;</text></g><!--reverse link SessionCore to PTY--><g class="link" data-entity-1="SessionCore" data-entity-2="PTY" data-source-line="84" data-uid="lnk15" id="link_SessionCore_PTY"><path codeLine="84" d="M407.9433,1172.8029 C395.1621,1211.8341 386.0313,1239.7257 374.7917,1274.059" fill="none" id="SessionCore-backto-PTY" style="stroke:#2FA4E7;stroke-width:3.125;"/><polygon fill="#2FA4E7" points="411.8333,1160.9236,405.9286,1165.5666,407.9433,1172.8029,413.8481,1168.1599,411.8333,1160.9236" style="stroke:#2FA4E7;stroke-width:3.125;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="25" x="405.8125" y="1210.4803">&#25317;&#26377;</text></g><!--reverse link Terminal to screen+scrollback--><g class="link" data-entity-1="Terminal" data-entity-2="screen.scrollback" data-source-line="85" data-uid="lnk17" id="link_Terminal_screen.scrollback"><path codeLine="85" d="M536.4583,1508.9548 C536.4583,1543.4757 536.4583,1565.1528 536.4583,1587.3715" fill="none" id="Terminal-backto-screen+scrollback" style="stroke:#2FA4E7;stroke-width:3.125;"/><polygon fill="#2FA4E7" points="536.4583,1496.4548,532.2917,1502.7048,536.4583,1508.9548,540.625,1502.7048,536.4583,1496.4548" style="stroke:#2FA4E7;stroke-width:3.125;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="75" x="542.7083" y="1548.3136">&#25317;&#26377;&#25152;&#26377;&#20869;&#23481;</text></g><!--reverse link App to Surface--><g class="link" data-entity-1="App" data-entity-2="Surface" data-source-line="88" data-uid="lnk18" id="link_App_Surface"><path codeLine="88" d="M352.4552,313.2855 C395.2781,349.6501 436.4167,384.6007 483.0208,424.184" fill="none" id="App-backto-Surface" style="stroke:#2FA4E7;stroke-width:3.125;"/><polygon fill="#2FA4E7" points="342.9271,305.1944,344.9941,312.416,352.4552,313.2855,350.3882,306.0639,342.9271,305.1944" style="stroke:#2FA4E7;stroke-width:3.125;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="109.021" x="406.1042" y="354.772">manages viewers</text><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="7.9102" x="460.7446" y="408.2732">n</text></g><!--link Surface to SessionCore--><g class="link" data-entity-1="Surface" data-entity-2="SessionCore" data-source-line="89" data-uid="lnk19" id="link_Surface_SessionCore"><path codeLine="89" d="M582.6042,670.934 C568.8542,708.7465 555.5318,745.3833 540.6256,786.3728" fill="none" id="Surface-to-SessionCore" style="stroke:#2FA4E7;stroke-width:3.125;"/><polygon fill="#2FA4E7" points="538.4896,792.2465,545.6094,784.86,540.2696,787.3518,537.7778,782.012,538.4896,792.2465" style="stroke:#2FA4E7;stroke-width:3.125;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="40.3564" x="574.1979" y="722.8136">views</text><text fill="#343A40" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="48.8525" x="618.9489" y="722.8136">(&#21487;&#20999;&#25442;)</text></g><!--link RendererState to Terminal--><g class="link" data-entity-1="RendererState" data-entity-2="Terminal" data-source-line="90" data-uid="lnk20" id="link_RendererState_Terminal"><path codeLine="90" d="M1020.8021,622.4861 C1040.7604,745.5798 1062.5729,995.4132 951.0417,1160.4132 C873.5417,1275.0694 720.2682,1329.4978 623.2682,1353.9874" fill="none" id="RendererState-to-Terminal" style="stroke:#2FA4E7;stroke-width:3.125;"/><polygon fill="#2FA4E7" points="617.2083,1355.5173,627.3181,1357.2623,622.2582,1354.2424,625.2782,1349.1825,617.2083,1355.5173" style="stroke:#2FA4E7;stroke-width:3.125;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="181.8481" x="1043.2292" y="981.7511">renders from SessionCore</text></g><!--link PTY to Shell Process--><g class="link" data-entity-1="PTY" data-entity-2="Shell Process" data-source-line="93" data-uid="lnk22" id="link_PTY_Shell Process"><path codeLine="93" d="M342.7083,1472.1111 C342.7083,1514.2361 342.7083,1553.7569 342.7083,1581.2048" fill="none" id="PTY-to-Shell Process" style="stroke:#2FA4E7;stroke-width:3.125;"/><polygon fill="#2FA4E7" points="342.7083,1587.4548,346.875,1578.0798,342.7083,1582.2465,338.5417,1578.0798,342.7083,1587.4548" style="stroke:#2FA4E7;stroke-width:3.125;"/><text fill="#343A40" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="135.9131" x="348.9583" y="1548.3136">SessionCore&#25317;&#26377;&#36827;&#31243;</text></g><!--link Surface to GMN26--><g class="link" data-entity-1="Surface" data-entity-2="GMN26" data-source-line="108" data-uid="lnk28" id="link_Surface_GMN26"><path d="M716.5729,424.059 C748.625,389.6007 787.8333,356.5486 831.7708,338.0382 C911.1354,304.6215 1529.9583,299.1215 1606.7708,338.0382 C1660.5938,365.3194 1700.1146,421.2882 1725.5833,468.5278" fill="none" id="Surface-GMN26" style="stroke:#2FA4E7;stroke-width:3.125;stroke-dasharray:7.2917,7.2917;"/></g><!--link App to GMN29--><g class="link" data-entity-1="App" data-entity-2="GMN29" data-source-line="120" data-uid="lnk31" id="link_App_GMN29"><path d="M400.1875,234.2986 C633.8854,258.2882 1058.3125,308.8298 1197.9167,371.3715 C1260.8958,399.5903 1320.6979,451.2153 1361.0833,491.1319" fill="none" id="App-GMN29" style="stroke:#2FA4E7;stroke-width:3.125;stroke-dasharray:7.2917,7.2917;"/></g><!--SRC=[XLTRRnD757xthvYc3xKNRAajxOEb8j4WMYGY48agzSdQh2V9YlMkDJl6f0WfAJXn50Sd0GA4a8H2Q4HpXHHoSPJ_GZsxpbF-Gi_ixAvddGKiotivvyoSyyrtlXb_HOTm0ICDavA1LJD1TMfWvCnjzMBRrYspsoBOMNplBDv3QSJMNpVtbccXTCkTl-TCZ3WB4yxpkyxg2zQe9n95LRkX3cBKTQ5OH5VKOKnGqjq-Q3OQF0BPcDp49DM5RYSGV3H3jMt4NSKp_wIHNI83geRjBBf0Y3fyHRTfibUyIybk8hbSGJLXHf95VhOzuZdqF8CqWbMA_I6IAScYKgfgGxwbp_97IFePd0tdCDK2bkCAgcxqMxUog4VSUAOxtgzKM3IXQ8t213N-gjf3FMenoQT8dvSGLrAdCScTZWiiHKhIvp-Lxo2cLqctWC6lqNC9GVCc_1GmNyOZZsFSKpugToHQIDF5qiEpGhrERRIvLs4RYyt31q2Nhw_eWqFq5uAn6Q6EF9mChvw7oYZHpK7ffQ9OPHFdSnIJWcwgHXRr-NUAWZwkLKvswyXTM7BMNpgJAq3hcD0Y7SwYQts_nmVuYn-4s4FOC795OW6NOS6kYPilpYMWXya-qmSHRWXwGrrw0MUH_kCvoGOeqLmuOfo7RkV4wc70hD-o36bP5KMCVPKN7u2Lr2p3Fek8LRPJYXBn1fe5NfSiyfkEox02oPGCT3H0PCOTCGbfq-4ZilkyJvde55ysYoMQpAjKJKaWFzjnxg-miQUiij8QVyC-R8DimGh6TsoGPxHNDSux89HtZHeim-W7Rdj6_px20gr4R0kqgTkxIeQ2bUShsyClKYbU8Q86wIqiGfx3s47fCrnFTTNG_y2UrLIBzf158ttPzh1zSog-TC0aKlK0qE6IRk2B6ChKYpIIlJQa6z0DlCryMb- -AATLLCkWefp_Pv5MpiVLqZzCOohttaRTRPwynBauLH6iY54KpT2nII7ZvkwEy_YzixJYBaoofwkXflnib71KKlonRaTxsHS-3PGcAffjged1tMSRpl9uajKtMNNScVfBxbI2pJmccEHi2bsLHTVzvrx-ACDhcGFw8B36kygBOfaKbWL-8zarTwVOs9HGae32JdNE4wgOVfCsEgcipfuIoIQbNd9stpfB3-GOw2Ks1ZAz5ucyWOUxLT4CIRYNHcWThh7w3AjkoOF4yp62JSTgn2buEylQE9kUaPO8aWpSv0OiKSmtS7w9P6-NTGeO1MfdudAuOtH2D60H3Lyg6SPrd2TgEHdOFNP-mqzGyXc9LTwvxmuI_BYZfDCTfuCiWXt6JdGS6RXVbzab4ouByugTmzruuKwFYPsosPXlRJw7wUKTaKVtXL0fYY18Z1CG9M8FPT2RN-ZVcRRQTRMTHN620n08HVlzm-fld2UROR-5LNlL29Si4aSt6ztqn1sgztildJxVMJ9tuNkdt5XHYl0WkLh1NniD4AiGxLYU9fJCPckzNABOzc9p_xxaaU1Qo8Vhyko1n7bboqTY3u7MqJDtTP8FQbgG1U6YWgm1UKRW1E0rjoNEq9mIoxliwEv9O_xKQCtT4QZEen5yFovKKBIhJnfLjbrdUuy4vF-DZBBxOwp-bjzK9a1uJXeJaK0e1MASkV7cmNkdNcyTRRbhhy7R4sUHEuHqpDOh6wlkv9hxpwJxS8dD7BAPLMTXIPf4dDDgSspz2LjO1UzW_IllZX-lSs4wt6OFfjeHxDLyI95DDbrhg_9q3Qht4H7rAmhRscPtw_w_3Ty6NixoXvF6AC04QumuxgVG5rDuO_Zt7FUvhTRViws9jm2zkzzcPuZtynhwj9O61TJVj7QMMZilXHm2Yzo7gqxrGtF_LND_rdSw7fbl7OtBAWUoT3nRzQSCD5ECjzayM3cUhmCIWjdoHX8uHU7qaGZHZuMhszlxFeDMlqKfz0R01TqPa1G2nIxX_3igrh_zZmzM4P3pqFes4s2SwTnKk696DXPm_ouJ_8N9o2Rq4-hq1kVlCnqxPIOGu1Z_q0Q1vzg1cLFQ3FOVCeXjr9pgDC3XReomgKVizP-yi3Oo_mC0]--></g></svg>